/**
 * skylark-widgets-richeditor - The skylark richeditor widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-richeditor/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-query","../Toolbar","../RichEditor","skylark-widgets-base/Action"],function(e,n,i,t,g){var a=g.inherit({name:"emoji",icon:"smile-o",menu:!0,_init:function(){g.prototype._init.apply(this),e.merge(this.editor.editable.formatter._allowedAttributes.img,["data-emoji","alt"])},renderMenu:function(){var i,t,g,s,o,r,p,l,m,u,d;for(p='<ul class="emoji-list">\n</ul>',g="",t=(o=e.extend({imagePath:"images/emoji/",images:a.images},this.editor.opts.emoji||{})).imagePath.replace(/\/$/,"")+"/",l=0,m=(u=o.images).length;l<m;l++)r=""+t+(s=u[l]),g+="<li data-name='"+(s=s.split(".")[0])+"'><img src='"+r+"' width='20' height='20' alt='"+s+"' /></li>";return(i=n(p)).html(g).appendTo(this.menuWrapper),i.on("mousedown","li",(d=this,function(e){var i;if(d.wrapper.removeClass("menu-on"),d.editor.editable.inputManager.focused)return i=n(e.currentTarget).find("img").clone().attr({"data-emoji":!0,"data-non-image":!0}),d.editor.editable.selection.insertNode(i),d.editor.trigger("valuechanged"),d.editor.trigger("selectionchanged"),!1}))},status:function(){}});return a.i18n={"zh-CN":{emoji:"表情"},"en-US":{emoji:"emoji"}},a.images=["smile.png","smiley.png","laughing.png","blush.png","heart_eyes.png","smirk.png","flushed.png","grin.png","wink.png","kissing_closed_eyes.png","stuck_out_tongue_winking_eye.png","stuck_out_tongue.png","sleeping.png","worried.png","expressionless.png","sweat_smile.png","cold_sweat.png","joy.png","sob.png","angry.png","mask.png","scream.png","sunglasses.png","heart.png","broken_heart.png","star.png","anger.png","exclamation.png","question.png","zzz.png","thumbsup.png","thumbsdown.png","ok_hand.png","punch.png","v.png","clap.png","muscle.png","pray.png","skull.png","trollface.png"],t.addons.actions.emoji=a,a});
//# sourceMappingURL=../../sourcemaps/addons/actions/EmojiAction.js.map
