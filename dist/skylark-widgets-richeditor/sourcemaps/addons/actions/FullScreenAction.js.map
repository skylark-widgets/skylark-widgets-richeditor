{"version":3,"sources":["addons/actions/FullScreenAction.js"],"names":["define","$","Toolbar","RichEditor","Action","i18n","FullScrennAction","inherit","name","needFocus","_init","prototype","call","this","window","body","editable","editor","toolbar","wrapper","iconClassOf","status","setActive","hasClass","constructor","cls","_execute","editablePadding","isFullscreen","_this","toggleClass","outerHeight","height","on","id","_resize","resize","off","size","zh-CN","fullscreen","addons","actions"],"mappings":";;;;;;;AAAAA,QACE,qBACA,aACA,gBACA,8BACA,WACA,SAASC,EAAEC,EAAQC,EAAWC,EAAOC,GAGrC,IAAIC,EAAmBF,EAAOG,SAC5BC,KAAO,aAEPC,WAAY,EAEZC,MAAQ,WAMN,OALAN,EAAOO,UAAUD,MAAME,KAAKC,MAE5BA,KAAKC,OAASb,EAAEa,QAChBD,KAAKE,KAAOd,EAAE,QACdY,KAAKG,SAAWH,KAAKI,OAAOF,KACrBF,KAAKK,QAAUL,KAAKK,QAAQC,SAGrCC,YAAc,WACZ,MAAO,mBAITC,OAAS,WACP,OAAOR,KAAKS,UAAUT,KAAKE,KAAKQ,SAASV,KAAKW,YAAYC,OAG5DC,SAAW,WACT,IAAIC,EAAiBC,EAKwDC,EAa7E,OAjBAhB,KAAKE,KAAKe,YAAYjB,KAAKW,YAAYC,MACvCG,EAAef,KAAKE,KAAKQ,SAASV,KAAKW,YAAYC,OAEjDE,EAAkBd,KAAKG,SAASe,cAAgBlB,KAAKG,SAASgB,SAC9DnB,KAAKC,OAAOmB,GAAG,gCAAkCpB,KAAKI,OAAOiB,IAAcL,EAMxEhB,KALM,WACL,OAAOgB,EAAMM,SACXH,OAAQH,EAAMf,OAAOkB,SAAWH,EAAMX,QAAQa,cAAgBJ,OAG1DS,WAEVvB,KAAKC,OAAOuB,IAAI,gCAAkCxB,KAAKI,OAAOiB,IAAIE,SAClEvB,KAAKsB,SACHH,OAAQ,UAGLnB,KAAKS,UAAUM,IAGxBO,QAAU,SAASG,GACjB,OAAOzB,KAAKG,SAASgB,OAAOM,EAAKN,WAgBrC,OAZA1B,EAAiBmB,IAAM,wBAEvBnB,EAAiBD,MACfkC,SACEC,WAAY,OAKhBrC,EAAWsC,OAAOC,QAAQF,WAAalC,EAGhCA","file":"../../../addons/actions/FullScreenAction.js","sourcesContent":["define([\r\n  \"skylark-domx-query\",\r\n  \"../Toolbar\",\r\n  \"../RichEditor\",\r\n  \"skylark-widgets-base/Action\",\r\n  \"../i18n\"\r\n],function($,Toolbar,RichEditor,Action,i18n){ \r\n\r\n  \r\n  var FullScrennAction = Action.inherit({\r\n    name : 'fullscreen',\r\n\r\n    needFocus : false,\r\n\r\n    _init : function() {\r\n      Action.prototype._init.call(this);\r\n\r\n      this.window = $(window);\r\n      this.body = $('body');\r\n      this.editable = this.editor.body;\r\n      return this.toolbar = this.toolbar.wrapper;\r\n    },\r\n\r\n    iconClassOf : function() {\r\n      return 'icon-fullscreen';\r\n    },\r\n\r\n\r\n    status : function() {\r\n      return this.setActive(this.body.hasClass(this.constructor.cls));\r\n    },\r\n\r\n    _execute : function() {\r\n      var editablePadding, isFullscreen;\r\n      this.body.toggleClass(this.constructor.cls);\r\n      isFullscreen = this.body.hasClass(this.constructor.cls);\r\n      if (isFullscreen) {\r\n        editablePadding = this.editable.outerHeight() - this.editable.height();\r\n        this.window.on(\"resize.richeditor-fullscreen-\" + this.editor.id, (function(_this) {\r\n          return function() {\r\n            return _this._resize({\r\n              height: _this.window.height() - _this.toolbar.outerHeight() - editablePadding\r\n            });\r\n          };\r\n        })(this)).resize();\r\n      } else {\r\n        this.window.off(\"resize.richeditor-fullscreen-\" + this.editor.id).resize();\r\n        this._resize({\r\n          height: 'auto'\r\n        });\r\n      }\r\n      return this.setActive(isFullscreen);\r\n    },\r\n\r\n    _resize : function(size) {\r\n      return this.editable.height(size.height);\r\n    }\r\n  });\r\n\r\n  FullScrennAction.cls = 'richeditor-fullscreen';\r\n\r\n  FullScrennAction.i18n = {\r\n    'zh-CN': {\r\n      fullscreen: '全屏'\r\n    }\r\n  };\r\n\r\n\r\n  RichEditor.addons.actions.fullscreen = FullScrennAction; \r\n\r\n\r\n  return FullScrennAction;\r\n\r\n }); "]}