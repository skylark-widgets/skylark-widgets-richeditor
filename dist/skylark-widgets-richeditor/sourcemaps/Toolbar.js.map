{"version":3,"sources":["Toolbar.js"],"names":["define","langx","$","_Toolbar","Toolbar","inherit","pluginName","_construct","editor","opts","this","prototype","call","_init","_render","k","len","name","ref","buttons","wrapper","_elm","prependTo","toolbar","length","constructor","Error","push","addSeparator","toolbarHidden","hide","findButton","button","list","find","data","addButton","btn"],"mappings":";;;;;;;AAAAA,QACE,sBACA,0BACA,+BACA,SAASC,EAAMC,EAAEC,GAIjB,IAAIC,EAAUD,EAASE,SACrBC,WAAa,0BAEbC,WAAa,SAASC,EAAOC,GAC3BC,KAAKF,OAAQA,EACbL,EAASQ,UAAUJ,WAAWK,KAAKF,KAAKD,IAG1CI,MAAQ,WACNV,EAASQ,UAAUE,MAAMD,KAAKF,MAC9BA,KAAKI,aA2CT,OAtCAV,EAAQO,UAAUG,QAAU,WAC1B,IAAIC,EAAGC,EAAKC,EAAMC,EAKlB,IAJAR,KAAKS,WAELT,KAAKU,QAAUlB,EAAEQ,KAAKW,MAAMC,UAAUZ,KAAKF,OAAOY,SAE7CL,EAAI,EAAGC,GADZE,EAAMR,KAAKD,KAAKc,SACMC,OAAQT,EAAIC,EAAKD,IAErC,GAAa,OADbE,EAAOC,EAAIH,IACX,CAIA,IAAKL,KAAKe,YAAYN,QAAQF,GAC5B,MAAM,IAAIS,MAAM,sCAAwCT,GAG1DP,KAAKS,QAAQQ,KAAK,IAAIjB,KAAKe,YAAYN,QAAQF,IAC7CM,QAAUb,KACVF,OAAQE,KAAKF,eATbE,KAAKkB,eAYT,GAAIlB,KAAKD,KAAKoB,cACZ,OAAOnB,KAAKU,QAAQU,QAIxB1B,EAAQO,UAAUoB,WAAa,SAASd,GACtC,IAAIe,EAEJ,OAAiB,OADjBA,EAAStB,KAAKuB,KAAKC,KAAK,iBAAmBjB,GAAMkB,KAAK,WAC9BH,EAAS,MAGnC5B,EAAQgC,UAAY,SAASC,GAC3B,OAAO3B,KAAKS,QAAQkB,EAAI1B,UAAUM,MAAQoB,GAG5CjC,EAAQe,WAEDf","file":"../Toolbar.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-utils-dom/query\",\r\n  \"skylark-widgets-swt/Toolbar\"\r\n],function(langx,$,_Toolbar){ \r\n\r\n\r\n\r\n  var Toolbar = _Toolbar.inherit({\r\n    pluginName : \"lark.richeditor.toolbar\",\r\n\r\n    _construct : function(editor,opts) {\r\n      this.editor =editor;\r\n      _Toolbar.prototype._construct.call(this,opts);\r\n    },\r\n\r\n    _init : function() {\r\n      _Toolbar.prototype._init.call(this);\r\n      this._render();\r\n    }\r\n\r\n  });\r\n\r\n  Toolbar.prototype._render = function() {\r\n    var k, len, name, ref;\r\n    this.buttons = [];\r\n    //this.wrapper = $(this._tpl.wrapper).prependTo(this.editor.wrapper);\r\n    this.wrapper = $(this._elm).prependTo(this.editor.wrapper);\r\n    ref = this.opts.toolbar;\r\n    for (k = 0, len = ref.length; k < len; k++) {\r\n      name = ref[k];\r\n      if (name === '|') {\r\n        this.addSeparator();\r\n        continue;\r\n      }\r\n      if (!this.constructor.buttons[name]) {\r\n        throw new Error(\"richeditor: invalid toolbar button \" + name);\r\n        continue;\r\n      }\r\n      this.buttons.push(new this.constructor.buttons[name]({\r\n        toolbar : this,\r\n        editor: this.editor\r\n      }));\r\n    }\r\n    if (this.opts.toolbarHidden) {\r\n      return this.wrapper.hide();\r\n    }\r\n  };\r\n\r\n  Toolbar.prototype.findButton = function(name) {\r\n    var button;\r\n    button = this.list.find('.toolbar-item-' + name).data('button');\r\n    return button != null ? button : null;\r\n  };\r\n\r\n  Toolbar.addButton = function(btn) {\r\n    return this.buttons[btn.prototype.name] = btn;\r\n  };\r\n\r\n  Toolbar.buttons = {};\r\n\r\n  return Toolbar;\r\n\r\n});"]}