{"version":3,"sources":["skylark-widgets-wordpad.js"],"names":["define","exports","module","__isValidToReturn","obj","Array","isArray","attr","__isEmptyObject","skylark","langx","$","Editable","Widget","Toolbar","uploader","i18n","addons","Wordpad","inherit","options","srcNodeRef","placeholder","defaultImage","params","upload","template","_init","editor","uploadOpts","this","_actions","opts","textarea","length","Error","data","destroy","id","count","_render","self","editable","_elm","classPrefix","body","on","e","trigger","type","toolbar","toolbarFloat","toolbarHidden","toolbarFloatOffset","_placeholder","setValue","val","trim","focus","prototype","triggerHandler","args","concat","Evented","apply","key","ref","results","el","insertBefore","wrapper","find","placeholderEl","append","blur","push","name","value","insertAfter","children","util","isEmptyNode","parseInt","css","indentWidth","show","hide","hidePopover","getValue","findAction","constructor","actions","each","i","popover","active","closest","off","selection","clear","inputManager","focused","removeData","remove","document","window","attach","zh-CN","blockquote","bold","code","color","coloredText","hr","image","externalImage","uploadImage","uploadFailed","uploadError","imageUrl","imageSize","imageAlt","restoreImageSize","uploading","indent","outdent","italic","link","linkText","linkUrl","linkTarget","openLinkInCurrentWindow","openLinkInNewWindow","removeLink","ol","ul","strikethrough","table","deleteRow","insertRowAbove","insertRowBelow","deleteColumn","insertColumnLeft","insertColumnRight","deleteTable","title","normalText","underline","alignment","alignCenter","alignLeft","alignRight","selectLanguage","fontScale","fontScaleXLarge","fontScaleLarge","fontScaleNormal","fontScaleSmall","fontScaleXSmall","en-US","translate","result","arguments","slice","call","locale","replace","p0","p","position","shift","_Action","Action","htmlTag","disableTag","menu","get","state","set","disabled","needFocus","_construct","_this","is","clipboard","pasting","setActive","setDisabled","shortcut","hotkeys","add","execute","split","k","len","tag","inArray","formatter","_allowedTags","_status","_disableStatus","endNodes","startNodes","filter","_activeStatus","endNode","startNode","node","_t","Popover","init","action","offset","top","left","target","appendTo","render","addClass","removeClass","_initLabelWidth","$fields","_labelWidth","field","$field","$label","Math","max","width","$target","siblings","refresh","reflow","editorOffset","maxLeft","targetH","targetOffset","outerHeight","height","outerWidth","min","ToolButton","menuWrapper","menuItem","separator","noFocus","param","preventDefault","hasClass","toggleClass","right","command","btn","currentTarget","updates","undefined","_doActive","_doDisabled","iconClassOf","icon","setIcon","text","addToolItem","renderMenu","$menuBtnEl","$menuItemEl","ref1","menuEl","data-param","tooltip","_options","general","items","_Toolbar","pluginName","buttons","prependTo","toolItemCtor","addSeparator","findButton","button","list","addButton","AlignmentAction","_execute","align","status","BlockquoteAction","BoldAction","os","mac","isActive","CodePopover","lang","_tpl","langs","codeLanguages","selectEl","selected","removeAttr","CodeAction","$el","pre","decorate","undecorate","_checkMode","range","cloneContents","blockNodes","join","collapsed","inlineMode","$pre","$code","match","contents","unwrap","wrapInner","_inlineCommand","_blockCommand","blockCode","inlineCode","ColorAction","EmojiAction","merge","_allowedAttributes","emoji","FontScaleAction","FullScrennAction","cls","editablePadding","isFullscreen","_resize","resize","size","fullscreen","HrAction","HtmlAction","_resizeTextarea","htmlMode","beautifyHTML","_textareaPadding","innerHeight","scrollHeight","html","ImagePopover","tpl","srcEl","widthEl","heightEl","altEl","which","createRange","setRangeAfter","_loadImage","_resizeImg","inputEl","$img","_restoreImg","alt","_initUploader","$uploadBtn","createInput","input","multiple","accept","stopPropagation","inline","img","onlySetVal","isNumber","src","callback","test","loadImage","blob","dataURLtoBlob","prop","ImageAction","item","imageAction","selectNode","support","onselectionchange","$contents","startContainer","eq","startOffset","$masks","mask","$mask","file","parent","cancel","$uploadItem","$input","uploadProgress","one","createImage","readImageFile","proxy","throttle","loaded","total","percent","toFixed","img_path","msg","JSON","parse","_error","success","alert","file_path","xhr","statusText","responseText","positionMask","imgOffset","wrapperOffset","Image","onload","data-image-size","isFunction","onerror","deleteContents","insertNode","click","select","IndentAction","hotkey","tabIndent","ItalicAction","LinkPopover","textEl","urlEl","unlinkEl","selectTarget","throttledValueChanged","shiftKey","txtNode","createTextNode","replaceWith","LinkAction","rangeAtEndOf","noder","ListAction","MarkAction","$end","$start","save","unmark","restore","endContainer","setStartBefore","setEndAfter","mark","$mark","extractContents","index","ele","commonAncestorContainer","OrderListAction","OutdentAction","StrikethroughAction","tables","TableAction","extend","td","col","_allowedStyles","th","_initShortcuts","_initResize","$container","containerNode","setRangeAtEndOf","keystroke","$node","_tdNav","$td","direction","$anotherTr","$tr","resizable","cssClasses","resizeHandle","editMenu","$table","createMenu","createTable","$trs","num","prevAll","addBack","$closestBlock","colNum","rowNum","last","after","setRangeAtStartOf","tableDecorate","row","phBr","refreshTableWidth","ret","newTr","insertRow","deleteCol","newTd","insertCol","$block","TitleAction","tagName","toLowerCase","UnderlineAction","UnorderListAction","AlignmentButton","end","ColorButton","$link","$p","hex","rgb","getComputedStyle","getPropertyValue","_convertRgbToHex","fontColor","exec","r","g","b","componentToHex","c","toString","rgbToHex","EmojiButton","$list","dir","_i","_len","_ref","imagePath","images","clone","data-emoji","data-non-image","TableButton","TitleButton","base","Addon","widget","_widget","Object","defineProperty","mixin","register","categoryName","addonName","AutoSave","currentVal","_module","autosave","autosavePath","path","href","location","pathname","storage","confirm","supported","localStorage","setItem","removeItem","session","sessionStorage","autoSave","Dropzone","_entered","originalEvent","dataTransfer","dropEffect","imageBtn","imageFiles","_j","_len1","files","validFile","indexOf","dropzone","main"],"mappings":"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","file":"../skylark-widgets-wordpad.js","sourcesContent":["define([], function () {\n    'use strict';\n    var exports = {};\n    var module = { exports: {} };\n    define([\n        'skylark-langx/skylark',\n        'skylark-langx/langx',\n        'skylark-domx-query',\n        'skylark-domx-contents/Editable',\n        'skylark-widgets-base/Widget',\n        './Toolbar',\n        './uploader',\n        './i18n',\n        './addons'\n    ], function (skylark, langx, $, Editable, Widget, Toolbar, uploader, i18n, addons) {\n        var Wordpad = Widget.inherit({\n            options: {\n                srcNodeRef: null,\n                placeholder: '',\n                defaultImage: 'images/image.png',\n                params: {},\n                upload: false,\n                template: '<div class=\"wordpad\">\\n  <div class=\"wordpad-wrapper\">\\n    <div class=\"wordpad-placeholder\"></div>\\n    <div class=\"wordpad-body\" contenteditable=\"true\">\\n    </div>\\n  </div>\\n</div>'\n            },\n            _init: function () {\n                this._actions = [];\n                this.opts = this.options;\n                var e, editor, uploadOpts;\n                this.textarea = $(this.opts.srcNodeRef);\n                this.opts.placeholder = this.opts.placeholder || this.textarea.attr('placeholder');\n                if (!this.textarea.length) {\n                    throw new Error('Wordpad: param textarea is required.');\n                    return;\n                }\n                editor = this.textarea.data('wordpad');\n                if (editor != null) {\n                    editor.destroy();\n                }\n                this.id = ++Wordpad.count;\n                this._render();\n                var self = this;\n                this.editable = new Editable(this._elm, {\n                    classPrefix: 'wordpad-',\n                    textarea: this.textarea,\n                    body: this.body\n                });\n                this.editable.on('all', function (e, data) {\n                    return self.trigger(e.type, data);\n                });\n                if (this.opts.upload && uploader) {\n                    uploadOpts = typeof this.opts.upload === 'object' ? this.opts.upload : {};\n                    this.uploader = uploader(uploadOpts);\n                }\n                this.toolbar = new Toolbar(this, {\n                    toolbar: this.opts.toolbar,\n                    toolbarFloat: this.opts.toolbarFloat,\n                    toolbarHidden: this.opts.toolbarHidden,\n                    toolbarFloatOffset: this.opts.toolbarFloatOffset\n                });\n                if (this.opts.placeholder) {\n                    this.on('valuechanged', function () {\n                        return self._placeholder();\n                    });\n                }\n                this.setValue(this.textarea.val().trim() || '');\n                if (this.textarea.attr('autofocus')) {\n                    return self.focus();\n                }\n            }\n        });\n        Wordpad.prototype.triggerHandler = Wordpad.prototype.trigger = function (type, data) {\n            var args, ref;\n            args = [type];\n            if (data) {\n                args = args.concat(data);\n            }\n            langx.Evented.prototype.trigger.apply(this, args);\n            return this;\n        };\n        Wordpad.count = 0;\n        Wordpad.prototype._render = function () {\n            var key, ref, results, val;\n            this.el = $(this._elm).insertBefore(this.textarea);\n            this.wrapper = this.el.find('.wordpad-wrapper');\n            this.body = this.wrapper.find('.wordpad-body');\n            this.placeholderEl = this.wrapper.find('.wordpad-placeholder').append(this.opts.placeholder);\n            this.el.data('wordpad', this);\n            this.wrapper.append(this.textarea);\n            this.textarea.data('wordpad', this).blur();\n            this.body.attr('tabindex', this.textarea.attr('tabindex'));\n            if (this.opts.params) {\n                ref = this.opts.params;\n                results = [];\n                for (key in ref) {\n                    val = ref[key];\n                    results.push($('<input/>', {\n                        type: 'hidden',\n                        name: key,\n                        value: val\n                    }).insertAfter(this.textarea));\n                }\n                return results;\n            }\n        };\n        Wordpad.prototype._placeholder = function () {\n            var children;\n            children = this.body.children();\n            if (children.length === 0 || children.length === 1 && this.util.isEmptyNode(children) && parseInt(children.css('margin-left') || 0) < this.opts.indentWidth) {\n                return this.placeholderEl.show();\n            } else {\n                return this.placeholderEl.hide();\n            }\n        };\n        Wordpad.prototype.setValue = function (val) {\n            this.hidePopover();\n            this.editable.setValue(val);\n            return this.trigger('valuechanged');\n        };\n        Wordpad.prototype.getValue = function () {\n            return this.editable.getValue();\n        };\n        Wordpad.prototype.focus = function () {\n            return this.editable.focus();\n        };\n        Wordpad.prototype.blur = function () {\n            return this.editable.blur();\n        };\n        Wordpad.prototype.findAction = function (name) {\n            if (!this._actions[name]) {\n                if (!this.constructor.addons.actions[name]) {\n                    throw new Error('Wordpad: invalid action ' + name);\n                }\n                this._actions[name] = new this.constructor.addons.actions[name]({ editor: this });\n            }\n            return this._actions[name];\n        };\n        Wordpad.prototype.hidePopover = function () {\n            return this.el.find('.wordpad-popover').each(function (i, popover) {\n                popover = $(popover).data('popover');\n                if (popover.active) {\n                    return popover.hide();\n                }\n            });\n        };\n        Wordpad.prototype.destroy = function () {\n            this.trigger('destroy');\n            this.textarea.closest('form').off('.Wordpad .wordpad-' + this.id);\n            this.selection.clear();\n            this.inputManager.focused = false;\n            this.textarea.insertBefore(this.el).hide().val('').removeData('wordpad');\n            this.el.remove();\n            $(document).off('.wordpad-' + this.id);\n            $(window).off('.wordpad-' + this.id);\n            return this.off();\n        };\n        Wordpad.Toolbar = Toolbar;\n        Wordpad.i18n = i18n;\n        Wordpad.addons = addons;\n        return skylark.attach('widgets.Wordpad', Wordpad);\n    });\n    function __isEmptyObject(obj) {\n        var attr;\n        for (attr in obj)\n            return !1;\n        return !0;\n    }\n    function __isValidToReturn(obj) {\n        return typeof obj != 'object' || Array.isArray(obj) || !__isEmptyObject(obj);\n    }\n    if (__isValidToReturn(module.exports))\n        return module.exports;\n    else if (__isValidToReturn(exports))\n        return exports;\n});\ndefine(\"skylark-widgets-wordpad/Wordpad\", function(){});\n\ndefine('skylark-widgets-wordpad/i18n',[\r\n\r\n],function(){ \r\n\r\n    var i18n =  {\r\n      'zh-CN': {\r\n        'blockquote': '引用',\r\n        'bold': '加粗文字',\r\n        'code': '插入代码',\r\n        'color': '文字颜色',\r\n        'coloredText': '彩色文字',\r\n        'hr': '分隔线',\r\n        'image': '插入图片',\r\n        'externalImage': '外链图片',\r\n        'uploadImage': '上传图片',\r\n        'uploadFailed': '上传失败了',\r\n        'uploadError': '上传出错了',\r\n        'imageUrl': '图片地址',\r\n        'imageSize': '图片尺寸',\r\n        'imageAlt': '图片描述',\r\n        'restoreImageSize': '还原图片尺寸',\r\n        'uploading': '正在上传',\r\n        'indent': '向右缩进',\r\n        'outdent': '向左缩进',\r\n        'italic': '斜体文字',\r\n        'link': '插入链接',\r\n        'linkText': '链接文字',\r\n        'linkUrl': '链接地址',\r\n        'linkTarget': '打开方式',\r\n        'openLinkInCurrentWindow': '在当前窗口中打开',\r\n        'openLinkInNewWindow': '在新窗口中打开',\r\n        'removeLink': '移除链接',\r\n        'ol': '有序列表',\r\n        'ul': '无序列表',\r\n        'strikethrough': '删除线文字',\r\n        'table': '表格',\r\n        'deleteRow': '删除行',\r\n        'insertRowAbove': '在上面插入行',\r\n        'insertRowBelow': '在下面插入行',\r\n        'deleteColumn': '删除列',\r\n        'insertColumnLeft': '在左边插入列',\r\n        'insertColumnRight': '在右边插入列',\r\n        'deleteTable': '删除表格',\r\n        'title': '标题',\r\n        'normalText': '普通文本',\r\n        'underline': '下划线文字',\r\n        'alignment': '水平对齐',\r\n        'alignCenter': '居中',\r\n        'alignLeft': '居左',\r\n        'alignRight': '居右',\r\n        'selectLanguage': '选择程序语言',\r\n        'fontScale': '字体大小',\r\n        'fontScaleXLarge': '超大字体',\r\n        'fontScaleLarge': '大号字体',\r\n        'fontScaleNormal': '正常大小',\r\n        'fontScaleSmall': '小号字体',\r\n        'fontScaleXSmall': '超小字体'\r\n      },\r\n      'en-US': {\r\n        'blockquote': 'Block Quote',\r\n        'bold': 'Bold',\r\n        'code': 'Code',\r\n        'color': 'Text Color',\r\n        'coloredText': 'Colored Text',\r\n        'hr': 'Horizontal Line',\r\n        'image': 'Insert Image',\r\n        'externalImage': 'External Image',\r\n        'uploadImage': 'Upload Image',\r\n        'uploadFailed': 'Upload failed',\r\n        'uploadError': 'Error occurs during upload',\r\n        'imageUrl': 'Url',\r\n        'imageSize': 'Size',\r\n        'imageAlt': 'Alt',\r\n        'restoreImageSize': 'Restore Origin Size',\r\n        'uploading': 'Uploading',\r\n        'indent': 'Indent',\r\n        'outdent': 'Outdent',\r\n        'italic': 'Italic',\r\n        'link': 'Insert Link',\r\n        'linkText': 'Text',\r\n        'linkUrl': 'Url',\r\n        'linkTarget': 'Target',\r\n        'openLinkInCurrentWindow': 'Open link in current window',\r\n        'openLinkInNewWindow': 'Open link in new window',\r\n        'removeLink': 'Remove Link',\r\n        'ol': 'Ordered List',\r\n        'ul': 'Unordered List',\r\n        'strikethrough': 'Strikethrough',\r\n        'table': 'Table',\r\n        'deleteRow': 'Delete Row',\r\n        'insertRowAbove': 'Insert Row Above',\r\n        'insertRowBelow': 'Insert Row Below',\r\n        'deleteColumn': 'Delete Column',\r\n        'insertColumnLeft': 'Insert Column Left',\r\n        'insertColumnRight': 'Insert Column Right',\r\n        'deleteTable': 'Delete Table',\r\n        'title': 'Title',\r\n        'normalText': 'Text',\r\n        'underline': 'Underline',\r\n        'alignment': 'Alignment',\r\n        'alignCenter': 'Align Center',\r\n        'alignLeft': 'Align Left',\r\n        'alignRight': 'Align Right',\r\n        'selectLanguage': 'Select Language',\r\n        'fontScale': 'Font Size',\r\n        'fontScaleXLarge': 'X Large Size',\r\n        'fontScaleLarge': 'Large Size',\r\n        'fontScaleNormal': 'Normal Size',\r\n        'fontScaleSmall': 'Small Size',\r\n        'fontScaleXSmall': 'X Small Size'\r\n      },\r\n\r\n      translate : function() {\r\n        var args, key, ref, result;\r\n        key = arguments[0], args = 2 <= arguments.length ? Array.prototype.slice.call(arguments, 1) : [];\r\n        result = ((ref = i18n[this.locale]) != null ? ref[key] : void 0) || '';\r\n        if (!(args.length > 0)) {\r\n          return result;\r\n        }\r\n        result = result.replace(/([^%]|^)%(?:(\\d+)\\$)?s/g, function(p0, p, position) {\r\n          if (position) {\r\n            return p + args[parseInt(position) - 1];\r\n          } else {\r\n            return p + args.shift();\r\n          }\r\n        });\r\n        return result.replace(/%%s/g, '%s');\r\n      }\r\n\r\n    };\r\n\r\n    return i18n;\r\n});\ndefine('skylark-widgets-wordpad/Action',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-widgets-base/Action\",\r\n  \"./Wordpad\",\r\n  \"./i18n\"\r\n],function(langx, _Action, Wordpad,i18n){ \r\n  var slice = [].slice;\r\n\r\n  var Action = _Action.inherit( {\r\n    htmlTag : '',\r\n\r\n    disableTag : '',\r\n\r\n    menu : false,\r\n\r\n    active : {\r\n      get : function() {\r\n        return this.state.get(\"active\");\r\n      },\r\n\r\n      set : function(value) {\r\n        return this.state.set(\"active\",value);\r\n\r\n      }\r\n\r\n    },\r\n\r\n    disabled : {\r\n      get : function() {\r\n        return this.state.get(\"disabled\");\r\n      },\r\n\r\n      set : function(value) {\r\n        return this.state.set(\"disabled\",value);\r\n\r\n      }\r\n    },\r\n\r\n    needFocus : true,\r\n\r\n    _construct  : function(opts) {\r\n      _Action.prototype._construct.apply(this,arguments);\r\n      //this.toolbar = opts.toolbar;\r\n      //this.editor = this.toolbar.editor;\r\n      this.title = i18n.translate(this.name);\r\n\r\n      var _this = this;\r\n\r\n      this.editor.on('blur', function() {\r\n        var editorActive;\r\n        editorActive = _this.editor.body.is(':visible') && _this.editor.body.is('[contenteditable]');\r\n        if (!(editorActive && !_this.editor.editable.clipboard.pasting)) {\r\n          return;\r\n        }\r\n        _this.setActive(false);\r\n        return _this.setDisabled(false);\r\n      });\r\n\r\n      if (this.shortcut != null) {\r\n        this.editor.editable.hotkeys.add(this.shortcut, function(e) {\r\n          //_this.el.mousedown();\r\n          _this.execute();\r\n          return false;\r\n        });\r\n      }\r\n\r\n      var ref = this.htmlTag.split(',');\r\n      for (k = 0, len = ref.length; k < len; k++) {\r\n        tag = ref[k];\r\n        tag = langx.trim(tag);\r\n        if (tag && langx.inArray(tag, this.editor.editable.formatter._allowedTags) < 0) {\r\n          this.editor.editable.formatter._allowedTags.push(tag);\r\n        }\r\n      }\r\n      this.editor.on('selectionchanged', function(e) {\r\n        if (_this.editor.editable.inputManager.focused) {\r\n          return _this._status();\r\n        }\r\n      });\r\n\r\n      this._init();\r\n    },\r\n\r\n    _init : function() {\r\n\r\n\r\n    },\r\n\r\n    _disableStatus : function() {\r\n      var disabled, endNodes, startNodes;\r\n      startNodes = this.editor.editable.selection.startNodes();\r\n      endNodes = this.editor.editable.selection.endNodes();\r\n      disabled = startNodes.filter(this.disableTag).length > 0 || endNodes.filter(this.disableTag).length > 0;\r\n      this.setDisabled(disabled);\r\n      if (this.disabled) {\r\n        this.setActive(false);\r\n      }\r\n      return this.disabled;\r\n    },\r\n\r\n    _activeStatus : function() {\r\n      var active, endNode, endNodes, startNode, startNodes;\r\n      startNodes = this.editor.editable.selection.startNodes();\r\n      endNodes = this.editor.editable.selection.endNodes();\r\n      startNode = startNodes.filter(this.htmlTag);\r\n      endNode = endNodes.filter(this.htmlTag);\r\n      active = startNode.length > 0 && endNode.length > 0 && startNode.is(endNode);\r\n      this.node = active ? startNode : null;\r\n      this.setActive(active);\r\n      return this.active;\r\n    },\r\n\r\n    _status : function() {\r\n      this._disableStatus();\r\n      if (this.disabled) {\r\n        return;\r\n      }\r\n      return this._activeStatus();\r\n    },\r\n\r\n    setActive : function(active) {\r\n      if (active === this.active) {\r\n        return;\r\n      }\r\n      this.active = active;\r\n    },\r\n\r\n    setDisabled : function(disabled) {\r\n      if (disabled === this.disabled) {\r\n        return;\r\n      }\r\n      this.disabled = disabled;\r\n    }\r\n  }); \r\n\r\n\r\n  Action.prototype._t = i18n.translate;\r\n\r\n\r\n  return Action;\r\n\r\n});\ndefine('skylark-widgets-wordpad/Popover',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"./Wordpad\",\r\n  \"./i18n\"\r\n],function(langx,$,Wordpad,i18n){ \r\n\r\n  var Popover = langx.Evented.inherit({\r\n     init : function(opts) {\r\n      this.action = opts.action;\r\n      this.editor = opts.action.editor;\r\n      this._init();\r\n    }\r\n  });\r\n\r\n\r\n  Popover.prototype.offset = {\r\n    top: 4,\r\n    left: 0\r\n  };\r\n\r\n  Popover.prototype.target = null;\r\n\r\n  Popover.prototype.active = false;\r\n\r\n  Popover.prototype._init = function() {\r\n    this.el = $('<div class=\"wordpad-popover\"></div>').appendTo(this.editor.el).data('popover', this);\r\n    this.render();\r\n    this.el.on('mouseenter', (function(_this) {\r\n      return function(e) {\r\n        return _this.el.addClass('hover');\r\n      };\r\n    })(this));\r\n    return this.el.on('mouseleave', (function(_this) {\r\n      return function(e) {\r\n        return _this.el.removeClass('hover');\r\n      };\r\n    })(this));\r\n  };\r\n\r\n  Popover.prototype.render = function() {};\r\n\r\n  Popover.prototype._initLabelWidth = function() {\r\n    var $fields;\r\n    $fields = this.el.find('.settings-field');\r\n    if (!($fields.length > 0)) {\r\n      return;\r\n    }\r\n    this._labelWidth = 0;\r\n    $fields.each((function(_this) {\r\n      return function(i, field) {\r\n        var $field, $label;\r\n        $field = $(field);\r\n        $label = $field.find('label');\r\n        if (!($label.length > 0)) {\r\n          return;\r\n        }\r\n        return _this._labelWidth = Math.max(_this._labelWidth, $label.width());\r\n      };\r\n    })(this));\r\n    return $fields.find('label').width(this._labelWidth);\r\n  };\r\n\r\n  Popover.prototype.show = function($target, position) {\r\n    if (position == null) {\r\n      position = 'bottom';\r\n    }\r\n    if ($target == null) {\r\n      return;\r\n    }\r\n    this.el.siblings('.wordpad-popover').each(function(i, popover) {\r\n      popover = $(popover).data('popover');\r\n      if (popover.active) {\r\n        return popover.hide();\r\n      }\r\n    });\r\n    if (this.active && this.target) {\r\n      this.target.removeClass('selected');\r\n    }\r\n    this.target = $target.addClass('selected');\r\n    if (this.active) {\r\n      this.refresh(position);\r\n      return this.trigger('popovershow');\r\n    } else {\r\n      this.active = true;\r\n      this.el.css({\r\n        left: -9999\r\n      }).show();\r\n      if (!this._labelWidth) {\r\n        this._initLabelWidth();\r\n      }\r\n      this.editor.editable.util.reflow();\r\n      this.refresh(position);\r\n      return this.trigger('popovershow');\r\n    }\r\n  };\r\n\r\n  Popover.prototype.hide = function() {\r\n    if (!this.active) {\r\n      return;\r\n    }\r\n    if (this.target) {\r\n      this.target.removeClass('selected');\r\n    }\r\n    this.target = null;\r\n    this.active = false;\r\n    this.el.hide();\r\n    return this.trigger('popoverhide');\r\n  };\r\n\r\n  Popover.prototype.refresh = function(position) {\r\n    var editorOffset, left, maxLeft, targetH, targetOffset, top;\r\n    if (position == null) {\r\n      position = 'bottom';\r\n    }\r\n    if (!this.active) {\r\n      return;\r\n    }\r\n    editorOffset = this.editor.el.offset();\r\n    targetOffset = this.target.offset();\r\n    targetH = this.target.outerHeight();\r\n    if (position === 'bottom') {\r\n      top = targetOffset.top - editorOffset.top + targetH;\r\n    } else if (position === 'top') {\r\n      top = targetOffset.top - editorOffset.top - this.el.height();\r\n    }\r\n    maxLeft = this.editor.wrapper.width() - this.el.outerWidth() - 10;\r\n    left = Math.min(targetOffset.left - editorOffset.left, maxLeft);\r\n    return this.el.css({\r\n      top: top + this.offset.top,\r\n      left: left + this.offset.left\r\n    });\r\n  };\r\n\r\n  Popover.prototype.destroy = function() {\r\n    this.target = null;\r\n    this.active = false;\r\n    this.editor.off('.linkpopover');\r\n    return this.el.remove();\r\n  };\r\n\r\n  Popover.prototype._t = function(name) {\r\n    var args, ref, result;\r\n    args = 1 <= arguments.length ? Array.prototype.slice.call(arguments, 0) : [];\r\n    result = i18n.translate.apply(i18n, args);\r\n    return result;\r\n  };\r\n\r\n  Wordpad.Popover = Popover;\r\n\r\n  return Popover;\r\n\r\n\t\r\n});\ndefine('skylark-widgets-wordpad/ToolButton',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-widgets-base/Widget\",\r\n  \"./Wordpad\",\r\n  \"./i18n\"\r\n],function(langx, $, Widget, Wordpad,i18n){ \r\n  var slice = [].slice;\r\n\r\n  var ToolButton = Widget.inherit( {\r\n\r\n    options : {\r\n      template: '<li><a tabindex=\"-1\" unselectable=\"on\" class=\"toolbar-item\" href=\"javascript:;\"><span></span></a></li>',\r\n\r\n      menu : {\r\n        menuWrapper: '<div class=\"toolbar-menu\"></div>',\r\n        menuItem: '<li><a tabindex=\"-1\" unselectable=\"on\" class=\"menu-item\" href=\"javascript:;\"><span></span></a></li>',\r\n        separator: '<li><span class=\"separator\"></span></li>'      \r\n      }\r\n\r\n    },\r\n\r\n    _construct : function(opts) {\r\n      this.action = opts.action;\r\n      this.toolbar = opts.toolbar;\r\n      this.editor = opts.toolbar.editor;\r\n      Widget.prototype._construct.call(this,opts);\r\n    },\r\n\r\n    _init : function() {\r\n      var k, len, ref, tag;\r\n      this.render();\r\n      var _this = this;\r\n      this.el.on('mousedown', function(e) {\r\n          var exceed, noFocus, param;\r\n          e.preventDefault();\r\n          noFocus = _this.needFocus && !_this.editor.editable.inputManager.focused;\r\n          if (_this.el.hasClass('disabled')) {\r\n            return false;\r\n          }\r\n          if (noFocus) {\r\n            _this.editor.focus();\r\n          }\r\n          if (_this.menu) {\r\n            _this.wrapper.toggleClass('menu-on').siblings('li').removeClass('menu-on');\r\n            if (_this.wrapper.is('.menu-on')) {\r\n              exceed = _this.menuWrapper.offset().left + _this.menuWrapper.outerWidth() + 5 - _this.editor.wrapper.offset().left - _this.editor.wrapper.outerWidth();\r\n              if (exceed > 0) {\r\n                _this.menuWrapper.css({\r\n                  'left': 'auto',\r\n                  'right': 0\r\n                });\r\n              }\r\n              _this.trigger('menuexpand');\r\n            }\r\n            return false;\r\n          }\r\n          param = _this.el.data('param');\r\n          _this.command(param);\r\n          return false;\r\n      });\r\n      this.wrapper.on('click', 'a.menu-item', function(e) {\r\n          var btn, noFocus, param;\r\n          e.preventDefault();\r\n          btn = $(e.currentTarget);\r\n          _this.wrapper.removeClass('menu-on');\r\n          noFocus = _this.needFocus && !_this.editor.editable.inputManager.focused;\r\n          if (btn.hasClass('disabled') || noFocus) {\r\n            return false;\r\n          }\r\n          _this.toolbar.wrapper.removeClass('menu-on');\r\n          param = btn.data('param');\r\n          _this.command(param);\r\n          return false;\r\n      });\r\n      this.wrapper.on('mousedown', 'a.menu-item', function(e) {\r\n        return false;\r\n      });\r\n\r\n      this.action.state.on(\"changed\", function(e,args) {\r\n        var updates = args.data;\r\n        if (updates[\"active\"] !== undefined) {\r\n          _this._doActive(updates[\"active\"].value);\r\n        }\r\n\r\n        if (updates[\"disabled\"] !== undefined) {\r\n          _this._doDisabled(updates[\"disabled\"].value);\r\n        }\r\n\r\n      });\r\n    },\r\n\r\n    _doActive : function(value) {\r\n      return this.el.toggleClass('active', this.active);\r\n    },\r\n\r\n    _doDisabled : function(value) {\r\n      return this.el.toggleClass('disabled', this.disabled);\r\n    },\r\n\r\n    iconClassOf : function(icon) {\r\n      if (icon) {\r\n        return \"wordpad-icon wordpad-icon-\" + icon;\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n\r\n    setIcon : function(icon) {\r\n      return this.el.find('span').removeClass().addClass(this.iconClassOf(icon)).text(this.text);\r\n    },\r\n\r\n    render : function() {\r\n\r\n      //this.wrapper = $(this._tpl.item).appendTo(this.toolbar.list);\r\n      this.toolbar.addToolItem(this);\r\n      this.wrapper = $(this._elm);\r\n\r\n      this.el = this.wrapper.find('a.toolbar-item');\r\n      this.el.attr('title', this.title).addClass(\"toolbar-item-\" + this.name).data('button', this);\r\n      this.setIcon(this.icon);\r\n      if (!this.menu) {\r\n        return;\r\n      }\r\n      this.menuWrapper = $(this.options.menu.menuWrapper).appendTo(this.wrapper);\r\n      this.menuWrapper.addClass(\"toolbar-menu-\" + this.name);\r\n      return this.renderMenu();\r\n    },\r\n\r\n    renderMenu : function() {\r\n      var $menuBtnEl, $menuItemEl, k, len, menuItem, ref, ref1, results;\r\n      if (!langx.isArray(this.menu)) {\r\n        return;\r\n      }\r\n      this.menuEl = $('<ul/>').appendTo(this.menuWrapper);\r\n      ref = this.menu;\r\n      results = [];\r\n      for (k = 0, len = ref.length; k < len; k++) {\r\n        menuItem = ref[k];\r\n        if (menuItem === '|') {\r\n          $(this.options.menu.separator).appendTo(this.menuEl);\r\n          continue;\r\n        }\r\n        $menuItemEl = $(this.options.menu.menuItem).appendTo(this.menuEl);\r\n        $menuBtnEl = $menuItemEl.find('a.menu-item').attr({\r\n          'title': (ref1 = menuItem.title) != null ? ref1 : menuItem.text,\r\n          'data-param': menuItem.param\r\n        }).addClass('menu-item-' + menuItem.name);\r\n        if (menuItem.icon) {\r\n          results.push($menuBtnEl.find('span').addClass(this.iconClassOf(menuItem.icon)));\r\n        } else {\r\n          results.push($menuBtnEl.find('span').text(menuItem.text));\r\n        }\r\n      }\r\n      return results;\r\n    },\r\n\r\n    command : function(params) {\r\n      this.action.execute(params);\r\n    },\r\n\r\n    \"name\" : {\r\n      get : function() {\r\n        return this.action.name;\r\n      }\r\n    },\r\n\r\n    \"icon\" : {\r\n      get : function() {\r\n        return this.action.icon;\r\n      }\r\n    },\r\n\r\n    \"title\" : {\r\n      get : function() {\r\n        return this.action.tooltip;\r\n      }\r\n    },\r\n\r\n    \"text\" : {\r\n      get : function() {\r\n        return this.action.text;\r\n      }\r\n    },\r\n\r\n    \"htmlTag\" : {\r\n      get : function() {\r\n        return this.action.htmlTag;\r\n      }\r\n    },\r\n\r\n    \"disableTag\" : {\r\n      get : function() {\r\n        return this.action.disableTag;\r\n      }\r\n    },\r\n\r\n    \"menu\" : {\r\n      get : function() {\r\n        return this.action.menu;\r\n      }\r\n    },\r\n\r\n    \"editable\" : {\r\n      get : function() {\r\n        return this._options.editable;\r\n      }\r\n    },\r\n\r\n    \"active\" : {\r\n      get : function() {\r\n        return this.action.active;\r\n      }\r\n    },\r\n\r\n    \"disabled\" : {\r\n      get : function() {\r\n        return this.action.disabled;\r\n      }\r\n    },\r\n\r\n    \"needFocus\" : {\r\n      get : function() {\r\n        return this.action.needFocus;\r\n      }\r\n    },\r\n\r\n\r\n    \"shortcut\" : {\r\n      get : function() {\r\n        return this.action.shortcut;\r\n      }\r\n    }\r\n\r\n\r\n  }); \r\n\r\n\r\n  return ToolButton;\r\n});\r\n\ndefine('skylark-widgets-wordpad/addons',[],function(){\r\n\treturn {\r\n\t    general : {\r\n\r\n\t    },\r\n\r\n\t    actions : {\r\n\r\n\t    },\r\n\r\n\t    toolbar : {\r\n\t      items : {\r\n\t        \r\n\t      }\r\n\t      \r\n\t    }  \t\t\r\n\t};\r\n});\ndefine('skylark-widgets-wordpad/Toolbar',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-widgets-swt/Toolbar\",\r\n  \"./ToolButton\",\r\n  \"./addons\"\r\n],function(langx,$,_Toolbar, ToolButton,addons){ \r\n\r\n  var Toolbar = _Toolbar.inherit({\r\n    pluginName : \"lark.Wordpad.toolbar\",\r\n\r\n    _construct : function(editor,opts) {\r\n      this.editor =editor;\r\n      _Toolbar.prototype._construct.call(this,opts);\r\n    },\r\n\r\n    _init : function() {\r\n      _Toolbar.prototype._init.call(this);\r\n      this._render();\r\n    }\r\n\r\n  });\r\n\r\n  Toolbar.prototype._render = function() {\r\n    var k, len, name, ref;\r\n    this.buttons = [];\r\n    //this.wrapper = $(this._tpl.wrapper).prependTo(this.editor.wrapper);\r\n    this.wrapper = $(this._elm).prependTo(this.editor.wrapper);\r\n    ref = this.opts.toolbar;\r\n    for (k = 0, len = ref.length; k < len; k++) {\r\n      name = ref[k];\r\n      if (name === '|') {\r\n        this.addSeparator();\r\n        continue;\r\n      }\r\n\r\n      var action  = this.editor.findAction(name),\r\n          toolItemCtor = addons.toolbar.items[name];\r\n\r\n      if (!toolItemCtor) {\r\n        toolItemCtor = ToolButton;\r\n      }\r\n\r\n      this.buttons.push(new toolItemCtor({\r\n        \"action\" : action,\r\n        \"toolbar\" : this\r\n      }));\r\n    }\r\n    if (this.opts.toolbarHidden) {\r\n      return this.wrapper.hide();\r\n    }\r\n  };\r\n\r\n  Toolbar.prototype.findButton = function(name) {\r\n    var button;\r\n    button = this.list.find('.toolbar-item-' + name).data('button');\r\n    return button != null ? button : null;\r\n  };\r\n\r\n  Toolbar.addButton = function(btn) {\r\n    return this.buttons[btn.prototype.name] = btn;\r\n  };\r\n\r\n  Toolbar.buttons = {};\r\n\r\n  return Toolbar;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/AlignmentAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n  var AlignmentAction = Action.inherit({\r\n    name : \"alignment\",\r\n\r\n    icon : 'align-left',\r\n    \r\n    htmlTag : 'p, h1, h2, h3, h4, td, th',\r\n\r\n    _init : function() {\r\n     Action.prototype._init.call(this);\r\n     this.menu = [\r\n          {\r\n            name: 'left',\r\n            text: i18n.translate('alignLeft'),\r\n            icon: 'align-left',\r\n            param: 'left'\r\n          }, {\r\n            name: 'center',\r\n            text: i18n.translate('alignCenter'),\r\n            icon: 'align-center',\r\n            param: 'center'\r\n          }, {\r\n            name: 'right',\r\n            text: i18n.translate('alignRight'),\r\n            icon: 'align-right',\r\n            param: 'right'\r\n          }\r\n      ] ;    \r\n    },\r\n\r\n\r\n    _execute : function(align) {\r\n      return this.editor.editable.alignment(align,this.htmlTag);\r\n    },\r\n\r\n    setActive : function(align) {\r\n      if (align == null) {\r\n        align = 'left';\r\n      }\r\n      if (align !== 'left' && align !== 'center' && align !== 'right') {\r\n        align = 'left';\r\n      }\r\n      Action.prototype.setActive.call(this, align);\r\n   },\r\n\r\n    _status : function() {\r\n      var value = this.editor.editable.status(\"alignment\",this.htmlTag);\r\n      if (value) {\r\n        this.setDisabled(false);\r\n        return this.setActive(value);\r\n      } else {\r\n        this.setDisabled(true);\r\n        return this.setActive(\"left\");\r\n      }    \r\n    }\r\n  });\r\n \r\n  return addons.actions.alignment = AlignmentAction;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/BlockquoteAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n   var BlockquoteAction = Action.inherit({\r\n      name : 'blockquote',\r\n\r\n      icon : 'quote-left',\r\n\r\n      htmlTag : 'blockquote',\r\n\r\n      disableTag : 'pre, table',\r\n\r\n      _execute : function() {\r\n        return this.editor.editable.blockquote(this.htmlTag,this.disableTag);\r\n      }\r\n   });\r\n\r\n\r\n   addons.actions.blockquote = BlockquoteAction; \r\n\r\n   return BlockquoteAction;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/BoldAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n  \r\n    var BoldAction = Action.inherit({\r\n      name : 'bold',\r\n\r\n      icon : 'bold',\r\n\r\n      htmlTag : 'b, strong',\r\n\r\n      disableTag : 'pre',\r\n\r\n      shortcut : 'cmd+b',\r\n\r\n      _init : function() {\r\n        if (this.editor.editable.util.os.mac) {\r\n          this.title = this.title + ' ( Cmd + b )';\r\n        } else {\r\n          this.title = this.title + ' ( Ctrl + b )';\r\n          this.shortcut = 'ctrl+b';\r\n        }\r\n        return Action.prototype._init.call(this);\r\n      },\r\n\r\n      _activeStatus : function() {\r\n        var active;\r\n        active = this.editor.editable.isActive('bold');\r\n        this.setActive(active);\r\n        return this.active;\r\n      },\r\n\r\n      _execute : function() {\r\n        return this.editor.editable.bold();\r\n      }\r\n\r\n    });\r\n\r\n\r\n    addons.actions.bold = BoldAction; \r\n\r\n    return BoldAction;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/CodePopover',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Popover\"\r\n],function($,addons,Popover){ \r\n  \r\n   var CodePopover = Popover.inherit({\r\n     render : function() {\r\n      var $option, k, lang, len, ref;\r\n      this._tpl = \"<div class=\\\"code-settings\\\">\\n  <div class=\\\"settings-field\\\">\\n    <select class=\\\"select-lang\\\">\\n      <option value=\\\"-1\\\">\" + (this._t('selectLanguage')) + \"</option>\\n    </select>\\n  </div>\\n</div>\";\r\n      this.langs = this.editor.opts.codeLanguages || [\r\n        {\r\n          name: 'Bash',\r\n          value: 'bash'\r\n        }, {\r\n          name: 'C++',\r\n          value: 'c++'\r\n        }, {\r\n          name: 'C#',\r\n          value: 'cs'\r\n        }, {\r\n          name: 'CSS',\r\n          value: 'css'\r\n        }, {\r\n          name: 'Erlang',\r\n          value: 'erlang'\r\n        }, {\r\n          name: 'Less',\r\n          value: 'less'\r\n        }, {\r\n          name: 'Sass',\r\n          value: 'sass'\r\n        }, {\r\n          name: 'Diff',\r\n          value: 'diff'\r\n        }, {\r\n          name: 'CoffeeScript',\r\n          value: 'coffeescript'\r\n        }, {\r\n          name: 'HTML,XML',\r\n          value: 'html'\r\n        }, {\r\n          name: 'JSON',\r\n          value: 'json'\r\n        }, {\r\n          name: 'Java',\r\n          value: 'java'\r\n        }, {\r\n          name: 'JavaScript',\r\n          value: 'js'\r\n        }, {\r\n          name: 'Markdown',\r\n          value: 'markdown'\r\n        }, {\r\n          name: 'Objective C',\r\n          value: 'oc'\r\n        }, {\r\n          name: 'PHP',\r\n          value: 'php'\r\n        }, {\r\n          name: 'Perl',\r\n          value: 'parl'\r\n        }, {\r\n          name: 'Python',\r\n          value: 'python'\r\n        }, {\r\n          name: 'Ruby',\r\n          value: 'ruby'\r\n        }, {\r\n          name: 'SQL',\r\n          value: 'sql'\r\n        }\r\n      ];\r\n      this.el.addClass('code-popover').append(this._tpl);\r\n      this.selectEl = this.el.find('.select-lang');\r\n      ref = this.langs;\r\n      for (k = 0, len = ref.length; k < len; k++) {\r\n        lang = ref[k];\r\n        $option = $('<option/>', {\r\n          text: lang.name,\r\n          value: lang.value\r\n        }).appendTo(this.selectEl);\r\n      }\r\n      this.selectEl.on('change', (function(_this) {\r\n        return function(e) {\r\n          var selected;\r\n          _this.lang = _this.selectEl.val();\r\n          selected = _this.target.hasClass('selected');\r\n          _this.target.removeClass().removeAttr('data-lang');\r\n          if (_this.lang !== -1) {\r\n            _this.target.attr('data-lang', _this.lang);\r\n          }\r\n          if (selected) {\r\n            _this.target.addClass('selected');\r\n          }\r\n          return _this.editor.trigger('valuechanged');\r\n        };\r\n      })(this));\r\n      return this.editor.on('valuechanged', (function(_this) {\r\n        return function(e) {\r\n          if (_this.active) {\r\n            return _this.refresh();\r\n          }\r\n        };\r\n      })(this));\r\n    },\r\n\r\n    show : function() {\r\n      var args;\r\n      args = 1 <= arguments.length ? Array.prototype.slice.call(arguments, 0) : [];\r\n      Popover.prototype.show.apply(this, args);\r\n      this.lang = this.target.attr('data-lang');\r\n      if (this.lang != null) {\r\n        return this.selectEl.val(this.lang);\r\n      } else {\r\n        return this.selectEl.val(-1);\r\n      }\r\n    }\r\n   });\r\n\r\n  return CodePopover;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/CodeAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"./CodePopover\"\r\n],function($,addons,Action,CodePopover){ \r\n  \r\n\r\n   var CodeAction = Action.inherit({\r\n      name : 'code',\r\n\r\n      icon : 'code',\r\n\r\n      htmlTag : 'pre',\r\n\r\n      disableTag : 'ul, ol, table',\r\n\r\n      _init : function() {\r\n        Action.prototype._init.call(this);\r\n        this.editor.on('decorate', (function(_this) {\r\n          return function(e, $el) {\r\n            return $el.find('pre').each(function(i, pre) {\r\n              return _this.decorate($(pre));\r\n            });\r\n          };\r\n        })(this));\r\n        return this.editor.on('undecorate', (function(_this) {\r\n          return function(e, $el) {\r\n            return $el.find('pre').each(function(i, pre) {\r\n              return _this.undecorate($(pre));\r\n            });\r\n          };\r\n        })(this));\r\n      },\r\n\r\n      _checkMode : function() {\r\n        var $blockNodes, range;\r\n        range = this.editor.editable.selection.range();\r\n        if (($blockNodes = $(range.cloneContents()).find(this.editor.editable.util.blockNodes.join(','))) > 0 || (range.collapsed && this.editor.editable.selection.startNodes().filter('code').length === 0)) {\r\n          this.inlineMode = false;\r\n          return this.htmlTag = 'pre';\r\n        } else {\r\n          this.inlineMode = true;\r\n          return this.htmlTag = 'code';\r\n        }\r\n      },\r\n\r\n      _status : function() {\r\n        this._checkMode();\r\n        Action.prototype._status.call(this);\r\n        if (this.inlineMode) {\r\n          return;\r\n        }\r\n        if (this.active) {\r\n          if (!this.popover) {\r\n            this.popover = new CodePopover({\r\n              action: this\r\n            });\r\n          }\r\n          return this.popover.show(this.node);\r\n        } else {\r\n          if (this.popover) {\r\n            return this.popover.hide();\r\n          }\r\n        }\r\n      },\r\n\r\n      decorate : function($pre) {\r\n        var $code, lang, ref, ref1;\r\n        $code = $pre.find('> code');\r\n        if ($code.length > 0) {\r\n          lang = (ref = $code.attr('class')) != null ? (ref1 = ref.match(/lang-(\\S+)/)) != null ? ref1[1] : void 0 : void 0;\r\n          $code.contents().unwrap();\r\n          if (lang) {\r\n            return $pre.attr('data-lang', lang);\r\n          }\r\n        }\r\n      },\r\n\r\n      undecorate : function($pre) {\r\n        var $code, lang;\r\n        lang = $pre.attr('data-lang');\r\n        $code = $('<code/>');\r\n        if (lang && lang !== -1) {\r\n          $code.addClass('lang-' + lang);\r\n        }\r\n        return $pre.wrapInner($code).removeAttr('data-lang');\r\n      },\r\n\r\n      _execute : function() {\r\n        if (this.inlineMode) {\r\n          return this._inlineCommand();\r\n        } else {\r\n          return this._blockCommand();\r\n        }\r\n      },\r\n\r\n      _blockCommand : function() {\r\n        return this.editor.editable.blockCode(this.htmlTag,this.disableTag);\r\n      },\r\n\r\n      _inlineCommand : function() {\r\n        return this.editor.editable.inlineCode(this.active);\r\n      }\r\n   });\r\n\r\n\r\n   addons.actions.code = CodeAction; \r\n\r\n   return CodeAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/ColorAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n  \r\n\r\n   var ColorAction = Action.inherit({\r\n    name : 'color',\r\n\r\n    icon : 'tint',\r\n\r\n    disableTag : 'pre',\r\n\r\n    menu : true\r\n\r\n   });\r\n\r\n   addons.actions.color = ColorAction; \r\n\r\n\r\n   return ColorAction;\r\n\t\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/EmojiAction',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function(langx,$,addons,Action){ \r\n  var EmojiAction = Action.inherit({\r\n    name : 'emoji',\r\n\r\n    icon : 'smile-o',\r\n\r\n    menu : true,\r\n\r\n    _init : function() {\r\n      Action.prototype._init.apply(this);\r\n      langx.merge(this.editor.editable.formatter._allowedAttributes['img'], ['data-emoji', 'alt']);\r\n    }\r\n\r\n  });\r\n\r\n\r\n  addons.actions.emoji = EmojiAction; \r\n\r\n  return EmojiAction;\r\n\t\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/FontScaleAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n  \r\n  var FontScaleAction = Action.inherit({\r\n    name : 'fontScale',\r\n\r\n    icon : 'font',\r\n\r\n    htmlTag : 'span',\r\n\r\n    disableTag : 'pre, h1, h2, h3, h4, h5',\r\n\r\n\r\n    _init : function() {\r\n      this.menu = [\r\n        {\r\n          name: '150%',\r\n          text: i18n.translate('fontScaleXLarge'),\r\n          param: '5'\r\n        }, {\r\n          name: '125%',\r\n          text: i18n.translate('fontScaleLarge'),\r\n          param: '4'\r\n        }, {\r\n          name: '100%',\r\n          text: i18n.translate('fontScaleNormal'),\r\n          param: '3'\r\n        }, {\r\n          name: '75%',\r\n          text: i18n.translate('fontScaleSmall'),\r\n          param: '2'\r\n        }, {\r\n          name: '50%',\r\n          text: i18n.translate('fontScaleXSmall'),\r\n          param: '1'\r\n        }\r\n      ];\r\n      return Action.prototype._init.call(this);\r\n    },\r\n\r\n    _activeStatus : function() {\r\n      var active, endNode, endNodes, range, startNode, startNodes;\r\n      range = this.editor.editable.selection.range();\r\n      startNodes = this.editor.editable.selection.startNodes();\r\n      endNodes = this.editor.editable.selection.endNodes();\r\n      startNode = startNodes.filter('span[style*=\"font-size\"]');\r\n      endNode = endNodes.filter('span[style*=\"font-size\"]');\r\n      active = startNodes.length > 0 && endNodes.length > 0 && startNode.is(endNode);\r\n      this.setActive(active);\r\n      return this.active;\r\n    },\r\n\r\n    _execute : function(param) {\r\n      return this.editor.editable.fontScale(param);\r\n    }\r\n  });\r\n\r\n\r\n  addons.actions.fontScale = FontScaleAction; \r\n\r\n  return FontScaleAction;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/FullScreenAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n\r\n  \r\n  var FullScrennAction = Action.inherit({\r\n    name : 'fullscreen',\r\n\r\n    needFocus : false,\r\n\r\n    _init : function() {\r\n      Action.prototype._init.call(this);\r\n\r\n      this.window = $(window);\r\n      this.body = $('body');\r\n      this.editable = this.editor.body;\r\n    },\r\n\r\n    iconClassOf : function() {\r\n      return 'icon-fullscreen';\r\n    },\r\n\r\n\r\n    status : function() {\r\n      return this.setActive(this.body.hasClass(this.constructor.cls));\r\n    },\r\n\r\n    _execute : function() {\r\n      var editablePadding, isFullscreen;\r\n      this.body.toggleClass(this.constructor.cls);\r\n      isFullscreen = this.body.hasClass(this.constructor.cls);\r\n      if (isFullscreen) {\r\n        editablePadding = this.editable.outerHeight() - this.editable.height();\r\n        this.window.on(\"resize.wordpad-fullscreen-\" + this.editor.id, (function(_this) {\r\n          return function() {\r\n            return _this._resize({\r\n              height: _this.window.height() - _this.editor.toolbar.outerHeight() - editablePadding\r\n            });\r\n          };\r\n        })(this)).resize();\r\n      } else {\r\n        this.window.off(\"resize.wordpad-fullscreen-\" + this.editor.id).resize();\r\n        this._resize({\r\n          height: 'auto'\r\n        });\r\n      }\r\n      return this.setActive(isFullscreen);\r\n    },\r\n\r\n    _resize : function(size) {\r\n      return this.editable.height(size.height);\r\n    }\r\n  });\r\n\r\n  FullScrennAction.cls = 'wordpad-fullscreen';\r\n\r\n  FullScrennAction.i18n = {\r\n    'zh-CN': {\r\n      fullscreen: '全屏'\r\n    }\r\n  };\r\n\r\n\r\n  addons.actions.fullscreen = FullScrennAction; \r\n\r\n  return FullScrennAction;\r\n\r\n }); \ndefine('skylark-widgets-wordpad/addons/actions/HrAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n  \r\n   var HrAction = Action.inherit({\r\n\r\n\t  name : 'hr',\r\n\r\n\t  icon : 'minus',\r\n\r\n\t  htmlTag : 'hr',\r\n\r\n\t  _status : function() {},\r\n\r\n\t  _execute : function() {\r\n\t    return this.editor.editable.hr();\r\n\t  }\r\n\r\n   });\r\n\r\n\r\n  addons.actions.hr = HrAction; \r\n\r\n  return HrAction;\t\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/HtmlAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n   var  hasProp = {}.hasOwnProperty,\r\n        slice = [].slice;\r\n  \r\n\r\n   var HtmlAction = Action.inherit({\r\n    name : 'html',\r\n\r\n    icon : 'html5',\r\n\r\n    needFocus : false,\r\n\r\n    _init : function() {\r\n      Action.prototype._init.call(this);\r\n      this.editor.textarea.on('focus', (function(_this) {\r\n        return function(e) {\r\n          return _this.editor.el.addClass('focus').removeClass('error');\r\n        };\r\n      })(this));\r\n      this.editor.textarea.on('blur', (function(_this) {\r\n        return function(e) {\r\n          _this.editor.el.removeClass('focus');\r\n          return _this.editor.setValue(_this.editor.textarea.val());\r\n        };\r\n      })(this));\r\n      return this.editor.textarea.on('input', (function(_this) {\r\n        return function(e) {\r\n          return _this._resizeTextarea();\r\n        };\r\n      })(this));\r\n    },\r\n\r\n    status : function() {},\r\n\r\n    _execute : function() {\r\n      var action, i, len, ref;\r\n      this.editor.blur();\r\n      this.editor.el.toggleClass('wordpad-html');\r\n      this.editor.htmlMode = this.editor.el.hasClass('wordpad-html');\r\n      if (this.editor.htmlMode) {\r\n        this.editor.hidePopover();\r\n        this.editor.textarea.val(this.beautifyHTML(this.editor.textarea.val()));\r\n        this._resizeTextarea();\r\n      } else {\r\n        this.editor.setValue(this.editor.textarea.val());\r\n      }\r\n      ref = this.editor._actions;\r\n      for (i = 0, len = ref.length; i < len; i++) {\r\n        action = ref[i];\r\n        if (action.name === 'html') {\r\n          action.setActive(this.editor.htmlMode);\r\n        } else {\r\n          action.setDisabled(this.editor.htmlMode);\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n\r\n    beautifyHTML : function() {\r\n      return arguments[0];\r\n      var args;\r\n      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\r\n      if (beautify.html) {\r\n        return beautify.html.apply(beautify, args);\r\n      } else {\r\n        return beautify.apply(null, args);\r\n      }\r\n    },\r\n\r\n    _resizeTextarea : function() {\r\n      this._textareaPadding || (this._textareaPadding = this.editor.textarea.innerHeight() - this.editor.textarea.height());\r\n      return this.editor.textarea.height(this.editor.textarea[0].scrollHeight - this._textareaPadding);\r\n    }\r\n\r\n   });\r\n\r\n\r\n   addons.actions.html = HtmlAction; \r\n\r\n   return HtmlAction;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/ImagePopover',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Popover\"\r\n],function(langx, $,addons,Popover){ \r\n   var ImagePopover = Popover.inherit({\r\n\r\n   });\r\n\r\n  ImagePopover.prototype.offset = {\r\n    top: 6,\r\n    left: -4\r\n  };\r\n\r\n  ImagePopover.prototype.render = function() {\r\n    var tpl;\r\n    tpl = \"<div class=\\\"link-settings\\\">\\n  <div class=\\\"settings-field\\\">\\n    <label>\" + (this._t('imageUrl')) + \"</label>\\n    <input class=\\\"image-src\\\" type=\\\"text\\\" tabindex=\\\"1\\\" />\\n    <a class=\\\"btn-upload\\\" href=\\\"javascript:;\\\"\\n      title=\\\"\" + (this._t('uploadImage')) + \"\\\" tabindex=\\\"-1\\\">\\n      <span class=\\\"wordpad-icon wordpad-icon-upload\\\"></span>\\n    </a>\\n  </div>\\n  <div class='settings-field'>\\n    <label>\" + (this._t('imageAlt')) + \"</label>\\n    <input class=\\\"image-alt\\\" id=\\\"image-alt\\\" type=\\\"text\\\" tabindex=\\\"1\\\" />\\n  </div>\\n  <div class=\\\"settings-field\\\">\\n    <label>\" + (this._t('imageSize')) + \"</label>\\n    <input class=\\\"image-size\\\" id=\\\"image-width\\\" type=\\\"text\\\" tabindex=\\\"2\\\" />\\n    <span class=\\\"times\\\">×</span>\\n    <input class=\\\"image-size\\\" id=\\\"image-height\\\" type=\\\"text\\\" tabindex=\\\"3\\\" />\\n    <a class=\\\"btn-restore\\\" href=\\\"javascript:;\\\"\\n      title=\\\"\" + (this._t('restoreImageSize')) + \"\\\" tabindex=\\\"-1\\\">\\n      <span class=\\\"wordpad-icon wordpad-icon-undo\\\"></span>\\n    </a>\\n  </div>\\n</div>\";\r\n    this.el.addClass('image-popover').append(tpl);\r\n    this.srcEl = this.el.find('.image-src');\r\n    this.widthEl = this.el.find('#image-width');\r\n    this.heightEl = this.el.find('#image-height');\r\n    this.altEl = this.el.find('#image-alt');\r\n    this.srcEl.on('keydown', (function(_this) {\r\n      return function(e) {\r\n        var range;\r\n        if (!(e.which === 13 && !_this.target.hasClass('uploading'))) {\r\n          return;\r\n        }\r\n        e.preventDefault();\r\n        range = document.createRange();\r\n        _this.Action.editor.editable.selection.setRangeAfter(_this.target, range);\r\n        return _this.hide();\r\n      };\r\n    })(this));\r\n    this.srcEl.on('blur', (function(_this) {\r\n      return function(e) {\r\n        return _this._loadImage(_this.srcEl.val());\r\n      };\r\n    })(this));\r\n    this.el.find('.image-size').on('blur', (function(_this) {\r\n      return function(e) {\r\n        _this._resizeImg($(e.currentTarget));\r\n        return _this.el.data('popover').refresh();\r\n      };\r\n    })(this));\r\n    this.el.find('.image-size').on('keyup', (function(_this) {\r\n      return function(e) {\r\n        var inputEl;\r\n        inputEl = $(e.currentTarget);\r\n        if (!(e.which === 13 || e.which === 27 || e.which === 9)) {\r\n          return _this._resizeImg(inputEl, true);\r\n        }\r\n      };\r\n    })(this));\r\n    this.el.find('.image-size').on('keydown', (function(_this) {\r\n      return function(e) {\r\n        var $img, inputEl, range;\r\n        inputEl = $(e.currentTarget);\r\n        if (e.which === 13 || e.which === 27) {\r\n          e.preventDefault();\r\n          if (e.which === 13) {\r\n            _this._resizeImg(inputEl);\r\n          } else {\r\n            _this._restoreImg();\r\n          }\r\n          $img = _this.target;\r\n          _this.hide();\r\n          range = document.createRange();\r\n          return _this.Action.editor.editable.selection.setRangeAfter($img, range);\r\n        } else if (e.which === 9) {\r\n          return _this.el.data('popover').refresh();\r\n        }\r\n      };\r\n    })(this));\r\n    this.altEl.on('keydown', (function(_this) {\r\n      return function(e) {\r\n        var range;\r\n        if (e.which === 13) {\r\n          e.preventDefault();\r\n          range = document.createRange();\r\n          _this.Action.editor.editable.selection.setRangeAfter(_this.target, range);\r\n          return _this.hide();\r\n        }\r\n      };\r\n    })(this));\r\n    this.altEl.on('keyup', (function(_this) {\r\n      return function(e) {\r\n        if (e.which === 13 || e.which === 27 || e.which === 9) {\r\n          return;\r\n        }\r\n        _this.alt = _this.altEl.val();\r\n        return _this.target.attr('alt', _this.alt);\r\n      };\r\n    })(this));\r\n    this.el.find('.btn-restore').on('click', (function(_this) {\r\n      return function(e) {\r\n        _this._restoreImg();\r\n        return _this.el.data('popover').refresh();\r\n      };\r\n    })(this));\r\n    this.editor.on('valuechanged', (function(_this) {\r\n      return function(e) {\r\n        if (_this.active) {\r\n          return _this.refresh();\r\n        }\r\n      };\r\n    })(this));\r\n    return this._initUploader();\r\n  };\r\n\r\n  ImagePopover.prototype._initUploader = function() {\r\n    var $uploadBtn, createInput;\r\n    $uploadBtn = this.el.find('.btn-upload');\r\n    if (this.editor.uploader == null) {\r\n      $uploadBtn.remove();\r\n      return;\r\n    }\r\n    createInput = (function(_this) {\r\n      return function() {\r\n        if (_this.input) {\r\n          _this.input.remove();\r\n        }\r\n        return _this.input = $('<input/>', {\r\n          type: 'file',\r\n          title: _this._t('uploadImage'),\r\n          multiple: true,\r\n          accept: 'image/gif,image/jpeg,image/jpg,image/png,image/svg'\r\n        }).appendTo($uploadBtn);\r\n      };\r\n    })(this);\r\n    createInput();\r\n    this.el.on('click mousedown', 'input[type=file]', function(e) {\r\n      return e.stopPropagation();\r\n    });\r\n    return this.el.on('change', 'input[type=file]', (function(_this) {\r\n      return function(e) {\r\n        _this.editor.uploader.upload(_this.input, {\r\n          inline: true,\r\n          img: _this.target\r\n        });\r\n        return createInput();\r\n      };\r\n    })(this));\r\n  };\r\n\r\n  ImagePopover.prototype._resizeImg = function(inputEl, onlySetVal) {\r\n    var height, value, width;\r\n    if (onlySetVal == null) {\r\n      onlySetVal = false;\r\n    }\r\n    value = inputEl.val() * 1;\r\n    if (!(this.target && (langx.isNumber(value) || value < 0))) {\r\n      return;\r\n    }\r\n    if (inputEl.is(this.widthEl)) {\r\n      width = value;\r\n      height = this.height * value / this.width;\r\n      this.heightEl.val(height);\r\n    } else {\r\n      height = value;\r\n      width = this.width * value / this.height;\r\n      this.widthEl.val(width);\r\n    }\r\n    if (!onlySetVal) {\r\n      this.target.attr({\r\n        width: width,\r\n        height: height\r\n      });\r\n      return this.editor.trigger('valuechanged');\r\n    }\r\n  };\r\n\r\n  ImagePopover.prototype._restoreImg = function() {\r\n    var ref, size;\r\n    size = ((ref = this.target.data('image-size')) != null ? ref.split(\",\") : void 0) || [this.width, this.height];\r\n    this.target.attr({\r\n      width: size[0] * 1,\r\n      height: size[1] * 1\r\n    });\r\n    this.widthEl.val(size[0]);\r\n    this.heightEl.val(size[1]);\r\n    return this.editor.trigger('valuechanged');\r\n  };\r\n\r\n  ImagePopover.prototype._loadImage = function(src, callback) {\r\n    if (/^data:image/.test(src) && !this.editor.uploader) {\r\n      if (callback) {\r\n        callback(false);\r\n      }\r\n      return;\r\n    }\r\n    if (this.target.attr('src') === src) {\r\n      return;\r\n    }\r\n    return this.Action.loadImage(this.target, src, (function(_this) {\r\n      return function(img) {\r\n        var blob;\r\n        if (!img) {\r\n          return;\r\n        }\r\n        if (_this.active) {\r\n          _this.width = img.width;\r\n          _this.height = img.height;\r\n          _this.widthEl.val(_this.width);\r\n          _this.heightEl.val(_this.height);\r\n        }\r\n        if (/^data:image/.test(src)) {\r\n          blob = _this.editor.editable.util.dataURLtoBlob(src);\r\n          blob.name = \"Base64 Image.png\";\r\n          _this.editor.uploader.upload(blob, {\r\n            inline: true,\r\n            img: _this.target\r\n          });\r\n        } else {\r\n          _this.editor.trigger('valuechanged');\r\n        }\r\n        if (callback) {\r\n          return callback(img);\r\n        }\r\n      };\r\n    })(this));\r\n  };\r\n\r\n  ImagePopover.prototype.show = function() {\r\n    var $img, args;\r\n    args = 1 <= arguments.length ? Array.prototype.slice.call(arguments, 0) : [];\r\n    Popover.prototype.show.apply(this, args);\r\n    $img = this.target;\r\n    this.width = $img.width();\r\n    this.height = $img.height();\r\n    this.alt = $img.attr('alt');\r\n    if ($img.hasClass('uploading')) {\r\n      return this.srcEl.val(this._t('uploading')).prop('disabled', true);\r\n    } else {\r\n      this.srcEl.val($img.attr('src')).prop('disabled', false);\r\n      this.widthEl.val(this.width);\r\n      this.heightEl.val(this.height);\r\n      return this.altEl.val(this.alt);\r\n    }\r\n  };\r\n\r\n  return ImagePopover;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/ImageAction',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"./ImagePopover\",\r\n  \"../../i18n\"\r\n],function(langx, $,addons,Action,ImagePopover,i18n){ \r\n   var ImageAction = Action.inherit({\r\n      name : 'image',\r\n\r\n      icon : 'picture-o',\r\n\r\n      htmlTag : 'img',\r\n\r\n      disableTag : 'pre, table',\r\n\r\n      defaultImage : '',\r\n\r\n      needFocus : false,\r\n\r\n      _init : function() {\r\n        var item, k, len, ref;\r\n        if (this.editor.opts.imageAction) {\r\n          if (Array.isArray(this.editor.opts.imageAction)) {\r\n            this.menu = [];\r\n            ref = this.editor.opts.imageAction;\r\n            for (k = 0, len = ref.length; k < len; k++) {\r\n              item = ref[k];\r\n              this.menu.push({\r\n                name: item + '-image',\r\n                text: this._t(item + 'Image')\r\n              });\r\n            }\r\n          } else {\r\n            this.menu = false;\r\n          }\r\n        } else {\r\n          if (this.editor.uploader != null) {\r\n            this.menu = [\r\n              {\r\n                name: 'upload-image',\r\n                text: i18n.translate('uploadImage')\r\n              }, {\r\n                name: 'external-image',\r\n                text: i18n.translate('externalImage')\r\n              }\r\n            ];\r\n          } else {\r\n            this.menu = false;\r\n          }\r\n        }\r\n        this.defaultImage = this.editor.opts.defaultImage;\r\n        this.editor.body.on('click', 'img:not([data-non-image])', (function(_this) {\r\n          return function(e) {\r\n            var $img, range;\r\n            $img = $(e.currentTarget);\r\n            range = document.createRange();\r\n            range.selectNode($img[0]);\r\n            _this.editor.editable.selection.range(range);\r\n            if (!_this.editor.editable.util.support.onselectionchange) {\r\n              _this.editor.trigger('selectionchanged');\r\n            }\r\n            return false;\r\n          };\r\n        })(this));\r\n        this.editor.body.on('mouseup', 'img:not([data-non-image])', function(e) {\r\n          return false;\r\n        });\r\n        this.editor.on('selectionchanged.image', (function(_this) {\r\n          return function() {\r\n            var $contents, $img, range;\r\n            range = _this.editor.editable.selection.range();\r\n            if (range == null) {\r\n              return;\r\n            }\r\n            $contents = $(range.cloneContents()).contents();\r\n            if ($contents.length === 1 && $contents.is('img:not([data-non-image])')) {\r\n              $img = $(range.startContainer).contents().eq(range.startOffset);\r\n              if (!_this.popover) {\r\n                _this.popover = new ImagePopover({\r\n                  action: _this\r\n                });                \r\n              }\r\n\r\n              return _this.popover.show($img);\r\n            } else {\r\n              if (_this.popover) {\r\n                  return _this.popover.hide();\r\n              }\r\n            }\r\n          };\r\n        })(this));\r\n        this.editor.on('valuechanged.image', (function(_this) {\r\n          return function() {\r\n            var $masks;\r\n            $masks = _this.editor.wrapper.find('.wordpad-image-loading');\r\n            if (!($masks.length > 0)) {\r\n              return;\r\n            }\r\n            return $masks.each(function(i, mask) {\r\n              var $img, $mask, file;\r\n              $mask = $(mask);\r\n              $img = $mask.data('img');\r\n              if (!($img && $img.parent().length > 0)) {\r\n                $mask.remove();\r\n                if ($img) {\r\n                  file = $img.data('file');\r\n                  if (file) {\r\n                    _this.editor.uploader.cancel(file);\r\n                    if (_this.editor.body.find('img.uploading').length < 1) {\r\n                      return _this.editor.uploader.trigger('uploadready', [file]);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          };\r\n        })(this));\r\n        return Action.prototype._init.call(this);\r\n      },\r\n\r\n      render : function() {\r\n        var args;\r\n        args = 1 <= arguments.length ? Array.prototype.slice.call(arguments, 0) : [];\r\n        Action.prototype.render.apply(this, args);\r\n        this.popover = new ImagePopover({\r\n          Action: this\r\n        });\r\n        if (this.editor.opts.imageAction === 'upload') {\r\n          return this._initUploader(this.el);\r\n        }\r\n      },\r\n\r\n      renderMenu : function() {\r\n        Action.prototype.renderMenu.call(this);\r\n        return this._initUploader();\r\n      },\r\n\r\n      _initUploader : function($uploadItem) {\r\n        var $input, createInput, uploadProgress;\r\n        if ($uploadItem == null) {\r\n          $uploadItem = this.menuEl.find('.menu-item-upload-image');\r\n        }\r\n        if (this.editor.uploader == null) {\r\n          this.el.find('.btn-upload').remove();\r\n          return;\r\n        }\r\n        $input = null;\r\n        createInput = (function(_this) {\r\n          return function() {\r\n            if ($input) {\r\n              $input.remove();\r\n            }\r\n            return $input = $('<input/>', {\r\n              type: 'file',\r\n              title: _this._t('uploadImage'),\r\n              multiple: true,\r\n              accept: 'image/gif,image/jpeg,image/jpg,image/png,image/svg'\r\n            }).appendTo($uploadItem);\r\n          };\r\n        })(this);\r\n        createInput();\r\n        $uploadItem.on('click mousedown', 'input[type=file]', function(e) {\r\n          return e.stopPropagation();\r\n        });\r\n        $uploadItem.on('change', 'input[type=file]', (function(_this) {\r\n          return function(e) {\r\n            if (_this.editor.editable.inputManager.focused) {\r\n              _this.editor.uploader.upload($input, {\r\n                inline: true\r\n              });\r\n              createInput();\r\n            } else {\r\n              _this.editor.one('focus', function(e) {\r\n                _this.editor.uploader.upload($input, {\r\n                  inline: true\r\n                });\r\n                return createInput();\r\n              });\r\n              _this.editor.focus();\r\n            }\r\n            return _this.wrapper.removeClass('menu-on');\r\n          };\r\n        })(this));\r\n        this.editor.uploader.on('beforeupload', (function(_this) {\r\n          return function(e, file) {\r\n            var $img;\r\n            if (!file.inline) {\r\n              return;\r\n            }\r\n            if (file.img) {\r\n              $img = $(file.img);\r\n            } else {\r\n              $img = _this.createImage(file.name);\r\n              file.img = $img;\r\n            }\r\n            $img.addClass('uploading');\r\n            $img.data('file', file);\r\n            return _this.editor.uploader.readImageFile(file.obj, function(img) {\r\n              var src;\r\n              if (!$img.hasClass('uploading')) {\r\n                return;\r\n              }\r\n              src = img ? img.src : _this.defaultImage;\r\n              return _this.loadImage($img, src, function() {\r\n                if (_this.popover.active) {\r\n                  _this.popover.refresh();\r\n                  return _this.popover.srcEl.val(_this._t('uploading')).prop('disabled', true);\r\n                }\r\n              });\r\n            });\r\n          };\r\n        })(this));\r\n        uploadProgress = langx.proxy(this.editor.editable.util.throttle(function(e, file, loaded, total) {\r\n          var $img, $mask, percent;\r\n          if (!file.inline) {\r\n            return;\r\n          }\r\n          $mask = file.img.data('mask');\r\n          if (!$mask) {\r\n            return;\r\n          }\r\n          $img = $mask.data('img');\r\n          if (!($img.hasClass('uploading') && $img.parent().length > 0)) {\r\n            $mask.remove();\r\n            return;\r\n          }\r\n          percent = loaded / total;\r\n          percent = (percent * 100).toFixed(0);\r\n          if (percent > 99) {\r\n            percent = 99;\r\n          }\r\n          return $mask.find('.progress').height((100 - percent) + \"%\");\r\n        }, 500), this);\r\n        this.editor.uploader.on('uploadprogress', uploadProgress);\r\n        this.editor.uploader.on('uploadsuccess', (function(_this) {\r\n          return function(e, file, result) {\r\n            var $img, img_path, msg;\r\n            if (!file.inline) {\r\n              return;\r\n            }\r\n            $img = file.img;\r\n            if (!($img.hasClass('uploading') && $img.parent().length > 0)) {\r\n              return;\r\n            }\r\n            if (typeof result !== 'object') {\r\n              try {\r\n                result = JSON.parse(result);\r\n              } catch (_error) {\r\n                e = _error;\r\n                result = {\r\n                  success: false\r\n                };\r\n              }\r\n            }\r\n            if (result.success === false) {\r\n              msg = result.msg || _this._t('uploadFailed');\r\n              alert(msg);\r\n              img_path = _this.defaultImage;\r\n            } else {\r\n              img_path = result.file_path;\r\n            }\r\n            _this.loadImage($img, img_path, function() {\r\n              var $mask;\r\n              $img.removeData('file');\r\n              $img.removeClass('uploading').removeClass('loading');\r\n              $mask = $img.data('mask');\r\n              if ($mask) {\r\n                $mask.remove();\r\n              }\r\n              $img.removeData('mask');\r\n              _this.editor.trigger('valuechanged');\r\n              if (_this.editor.body.find('img.uploading').length < 1) {\r\n                return _this.editor.uploader.trigger('uploadready', [file, result]);\r\n              }\r\n            });\r\n            if (_this.popover.active) {\r\n              _this.popover.srcEl.prop('disabled', false);\r\n              return _this.popover.srcEl.val(result.file_path);\r\n            }\r\n          };\r\n        })(this));\r\n        return this.editor.uploader.on('uploaderror', (function(_this) {\r\n          return function(e, file, xhr) {\r\n            var $img, msg, result;\r\n            if (!file.inline) {\r\n              return;\r\n            }\r\n            if (xhr.statusText === 'abort') {\r\n              return;\r\n            }\r\n            if (xhr.responseText) {\r\n              try {\r\n                result = JSON.parse(xhr.responseText);\r\n                msg = result.msg;\r\n              } catch (_error) {\r\n                e = _error;\r\n                msg = _this._t('uploadError');\r\n              }\r\n            }\r\n            $img = file.img;\r\n            if (!($img.hasClass('uploading') && $img.parent().length > 0)) {\r\n              return;\r\n            }\r\n            _this.loadImage($img, _this.defaultImage, function() {\r\n              var $mask;\r\n              $img.removeData('file');\r\n              $img.removeClass('uploading').removeClass('loading');\r\n              $mask = $img.data('mask');\r\n              if ($mask) {\r\n                $mask.remove();\r\n              }\r\n              return $img.removeData('mask');\r\n            });\r\n            if (_this.popover.active) {\r\n              _this.popover.srcEl.prop('disabled', false);\r\n              _this.popover.srcEl.val(_this.defaultImage);\r\n            }\r\n            _this.editor.trigger('valuechanged');\r\n            if (_this.editor.body.find('img.uploading').length < 1) {\r\n              return _this.editor.uploader.trigger('uploadready', [file, result]);\r\n            }\r\n          };\r\n        })(this));\r\n      },\r\n\r\n      _status : function() {\r\n        return this._disableStatus();\r\n      },\r\n\r\n      loadImage : function($img, src, callback) {\r\n        var $mask, img, positionMask;\r\n        positionMask = (function(_this) {\r\n          return function() {\r\n            var imgOffset, wrapperOffset;\r\n            imgOffset = $img.offset();\r\n            wrapperOffset = _this.editor.wrapper.offset();\r\n            return $mask.css({\r\n              top: imgOffset.top - wrapperOffset.top,\r\n              left: imgOffset.left - wrapperOffset.left,\r\n              width: $img.width(),\r\n              height: $img.height()\r\n            }).show();\r\n          };\r\n        })(this);\r\n        $img.addClass('loading');\r\n        $mask = $img.data('mask');\r\n        if (!$mask) {\r\n          $mask = $('<div class=\"wordpad-image-loading\">\\n  <div class=\"progress\"></div>\\n</div>').hide().appendTo(this.editor.wrapper);\r\n          positionMask();\r\n          $img.data('mask', $mask);\r\n          $mask.data('img', $img);\r\n        }\r\n        img = new Image();\r\n        img.onload = (function(_this) {\r\n          return function() {\r\n            var height, width;\r\n            if (!$img.hasClass('loading') && !$img.hasClass('uploading')) {\r\n              return;\r\n            }\r\n            width = img.width;\r\n            height = img.height;\r\n            $img.attr({\r\n              src: src,\r\n              width: width,\r\n              height: height,\r\n              'data-image-size': width + ',' + height\r\n            }).removeClass('loading');\r\n            if ($img.hasClass('uploading')) {\r\n              _this.editor.editable.util.reflow(_this.editor.body);\r\n              positionMask();\r\n            } else {\r\n              $mask.remove();\r\n              $img.removeData('mask');\r\n            }\r\n            if (langx.isFunction(callback)) {\r\n              return callback(img);\r\n            }\r\n          };\r\n        })(this);\r\n        img.onerror = function() {\r\n          if (langx.isFunction(callback)) {\r\n            callback(false);\r\n          }\r\n          $mask.remove();\r\n          return $img.removeData('mask').removeClass('loading');\r\n        };\r\n        return img.src = src;\r\n      },\r\n\r\n      createImage : function(name) {\r\n        var $img, range;\r\n        if (name == null) {\r\n          name = 'Image';\r\n        }\r\n        if (!this.editor.editable.inputManager.focused) {\r\n          this.editor.focus();\r\n        }\r\n        range = this.editor.editable.selection.range();\r\n        range.deleteContents();\r\n        this.editor.editable.selection.range(range);\r\n        $img = $('<img/>').attr('alt', name);\r\n        range.insertNode($img[0]);\r\n        this.editor.editable.selection.setRangeAfter($img, range);\r\n        this.editor.trigger('valuechanged');\r\n        return $img;\r\n      },\r\n\r\n      _execute : function(src) {\r\n        var $img;\r\n        $img = this.createImage();\r\n        return this.loadImage($img, src || this.defaultImage, (function(_this) {\r\n          return function() {\r\n            _this.editor.trigger('valuechanged');\r\n            _this.editor.editable.util.reflow($img);\r\n            $img.click();\r\n            return _this.popover.one('popovershow', function() {\r\n              _this.popover.srcEl.focus();\r\n              return _this.popover.srcEl[0].select();\r\n            });\r\n          };\r\n        })(this));\r\n      }\r\n\r\n   });\r\n\r\n   addons.actions.image = ImageAction; \r\n\r\n   return ImageAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/IndentAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n  \r\n   var IndentAction = Action.inherit({\r\n      name :'indent',\r\n\r\n      icon : 'indent',\r\n\r\n      _init : function() {\r\n        var hotkey;\r\n        hotkey = this.editor.opts.tabIndent === false ? '' : ' (Tab)';\r\n        this.title = this._t(this.name) + hotkey;\r\n        return Action.prototype._init.call(this);\r\n      },\r\n\r\n      _execute : function() {\r\n        return this.editor.editable.indent()\r\n      }\r\n\r\n   });\r\n\r\n\r\n   addons.actions.indent = IndentAction; \r\n\r\n   return IndentAction;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/ItalicAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n  \r\n\r\n  var ItalicAction = Action.inherit({\r\n      name : 'italic',\r\n\r\n      icon : 'italic',\r\n\r\n      htmlTag : 'i',\r\n\r\n      disableTag : 'pre',\r\n\r\n      shortcut : 'cmd+i',\r\n\r\n      _init : function() {\r\n        if (this.editor.editable.util.os.mac) {\r\n          this.title = this.title + \" ( Cmd + i )\";\r\n        } else {\r\n          this.title = this.title + \" ( Ctrl + i )\";\r\n          this.shortcut = 'ctrl+i';\r\n        }\r\n        return Action.prototype._init.call(this);\r\n      },\r\n\r\n      _activeStatus : function() {\r\n        var active;\r\n        active = this.editor.editable.isActive('italic');\r\n        this.setActive(active);\r\n        return this.active;\r\n      },\r\n\r\n      _execute : function() {\r\n        return this.editor.editable.italic();\r\n      }\r\n   });\r\n\r\n\r\n   addons.actions.italic = ItalicAction; \r\n\r\n   return ItalicAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/LinkPopover',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Popover\"\r\n],function($,addons,Popover){ \r\n  var LinkPopover = Popover.inherit({\r\n    render : function() {\r\n      var tpl;\r\n      tpl = \"<div class=\\\"link-settings\\\">\\n  <div class=\\\"settings-field\\\">\\n    <label>\" + (this._t('linkText')) + \"</label>\\n    <input class=\\\"link-text\\\" type=\\\"text\\\"/>\\n    <a class=\\\"btn-unlink\\\" href=\\\"javascript:;\\\" title=\\\"\" + (this._t('removeLink')) + \"\\\"\\n      tabindex=\\\"-1\\\">\\n      <span class=\\\"wordpad-icon wordpad-icon-unlink\\\"></span>\\n    </a>\\n  </div>\\n  <div class=\\\"settings-field\\\">\\n    <label>\" + (this._t('linkUrl')) + \"</label>\\n    <input class=\\\"link-url\\\" type=\\\"text\\\"/>\\n  </div>\\n  <div class=\\\"settings-field\\\">\\n    <label>\" + (this._t('linkTarget')) + \"</label>\\n    <select class=\\\"link-target\\\">\\n      <option value=\\\"_blank\\\">\" + (this._t('openLinkInNewWindow')) + \" (_blank)</option>\\n      <option value=\\\"_self\\\">\" + (this._t('openLinkInCurrentWindow')) + \" (_self)</option>\\n    </select>\\n  </div>\\n</div>\";\r\n      this.el.addClass('link-popover').append(tpl);\r\n      this.textEl = this.el.find('.link-text');\r\n      this.urlEl = this.el.find('.link-url');\r\n      this.unlinkEl = this.el.find('.btn-unlink');\r\n      this.selectTarget = this.el.find('.link-target');\r\n      this.textEl.on('keyup', (function(_this) {\r\n        return function(e) {\r\n          if (e.which === 13) {\r\n            return;\r\n          }\r\n          _this.target.text(_this.textEl.val());\r\n          return _this.editor.editable.inputManager.throttledValueChanged();\r\n        };\r\n      })(this));\r\n      this.urlEl.on('keyup', (function(_this) {\r\n        return function(e) {\r\n          var val;\r\n          if (e.which === 13) {\r\n            return;\r\n          }\r\n          val = _this.urlEl.val();\r\n          if (!(/^(http|https|ftp|ftps|file)?:\\/\\/|^(mailto|tel)?:|^\\//ig.test(val) || !val)) {\r\n            val = 'http://' + val;\r\n          }\r\n          _this.target.attr('href', val);\r\n          return _this.editor.editable.inputManager.throttledValueChanged();\r\n        };\r\n      })(this));\r\n      $([this.urlEl[0], this.textEl[0]]).on('keydown', (function(_this) {\r\n        return function(e) {\r\n          var range;\r\n          if (e.which === 13 || e.which === 27 || (!e.shiftKey && e.which === 9 && $(e.target).hasClass('link-url'))) {\r\n            e.preventDefault();\r\n            range = document.createRange();\r\n            _this.editor.editable.selection.setRangeAfter(_this.target, range);\r\n            _this.hide();\r\n            return _this.editor.editable.inputManager.throttledValueChanged();\r\n          }\r\n        };\r\n      })(this));\r\n      this.unlinkEl.on('click', (function(_this) {\r\n        return function(e) {\r\n          var range, txtNode;\r\n          txtNode = document.createTextNode(_this.target.text());\r\n          _this.target.replaceWith(txtNode);\r\n          _this.hide();\r\n          range = document.createRange();\r\n          _this.editor.editable.selection.setRangeAfter(txtNode, range);\r\n          return _this.editor.editable.inputManager.throttledValueChanged();\r\n        };\r\n      })(this));\r\n      return this.selectTarget.on('change', (function(_this) {\r\n        return function(e) {\r\n          _this.target.attr('target', _this.selectTarget.val());\r\n          return _this.editor.editable.inputManager.throttledValueChanged();\r\n        };\r\n      })(this));\r\n    },\r\n\r\n    show : function() {\r\n      var args;\r\n      args = 1 <= arguments.length ? Array.prototype.slice.call(arguments, 0) : [];\r\n      Popover.prototype.show.apply(this, args);\r\n      this.textEl.val(this.target.text());\r\n      return this.urlEl.val(this.target.attr('href'));\r\n    }\r\n  });\r\n\r\n  return LinkPopover;\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/LinkAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\",\r\n  \"./LinkPopover\"\r\n],function($,addons,Action,i18n,LinkPopover){ \r\n  \r\n\r\n  var LinkAction = Action.inherit({\r\n    name : 'link',\r\n\r\n    icon : 'link',\r\n\r\n    htmlTag : 'a',\r\n\r\n    disableTag : 'pre',\r\n\r\n    _status : function() {\r\n     Action.prototype._status.call(this);\r\n      if (this.active && !this.editor.editable.selection.rangeAtEndOf(this.node)) {\r\n        if (!this.popover) {\r\n          this.popover = new LinkPopover({\r\n            action: this\r\n          });\r\n        }\r\n        return this.popover.show(this.node);\r\n      } else {\r\n        if (this.popover) {\r\n          return this.popover.hide();\r\n        }\r\n      }\r\n    },\r\n\r\n    _execute : function() {\r\n      if (this.active) {\r\n        this.popover.one('popovershow', (function(_this) {\r\n          return function() {\r\n            if (linkText) {\r\n              _this.popover.urlEl.focus();\r\n              return _this.popover.urlEl[0].select();\r\n            } else {\r\n              _this.popover.textEl.focus();\r\n              return _this.popover.textEl[0].select();\r\n            }\r\n          };\r\n        })(this));\r\n\r\n      }\r\n\r\n      return this.editor.editable.link(this.active,i18n.translate('linkText'));\r\n\r\n    }\r\n\r\n   });\r\n\r\n\r\n\r\n  addons.actions.link = LinkAction; \r\n\r\n  return LinkAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/ListAction',[\r\n  \"skylark-domx-noder\",\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function(noder,$,addons,Action){ \r\n  var ListAction = Action.inherit({\r\n    type : '',\r\n\r\n    disableTag : 'pre, table',\r\n\r\n    _execute : function(param) {\r\n      return this.editor.editable.list(this.type,param,this.disableTag);\r\n    }\r\n\r\n   });\r\n\r\n\r\n\r\n    return ListAction;\r\n\t\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/MarkAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n\r\n\r\n  var MarkAction = Action.inherit({\r\n    name : 'mark',\r\n\r\n    icon : 'mark',\r\n\r\n    htmlTag : 'mark',\r\n\r\n    disableTag : 'pre, table',\r\n\r\n    _execute : function() {\r\n      var $end, $start, range;\r\n      range = this.editor.editable.selection.range();\r\n      if (this.active) {\r\n        this.editor.editable.selection.save();\r\n        this.unmark(range);\r\n        this.editor.editable.selection.restore();\r\n        this.editor.trigger('valuechanged');\r\n        return;\r\n      }\r\n      if (range.collapsed) {\r\n        return;\r\n      }\r\n      this.editor.editable.selection.save();\r\n      $start = $(range.startContainer);\r\n      $end = $(range.endContainer);\r\n      if ($start.closest('mark').length) {\r\n        range.setStartBefore($start.closest('mark')[0]);\r\n      }\r\n      if ($end.closest('mark').length) {\r\n        range.setEndAfter($end.closest('mark')[0]);\r\n      }\r\n      this.mark(range);\r\n      this.editor.editable.selection.restore();\r\n      this.editor.trigger('valuechanged');\r\n      if (this.editor.editable.util.support.onselectionchange) {\r\n        return this.editor.trigger('selectionchanged');\r\n      }\r\n    },\r\n\r\n    mark : function(range) {\r\n      var $contents, $mark;\r\n      if (range == null) {\r\n        range = this.editor.editable.selection.range();\r\n      }\r\n      $contents = $(range.extractContents());\r\n      $contents.find('mark').each(function(index, ele) {\r\n        return $(ele).replaceWith($(ele).html());\r\n      });\r\n      $mark = $('<mark>').append($contents);\r\n      return range.insertNode($mark[0]);\r\n    },\r\n\r\n    unmark : function(range) {\r\n      var $mark;\r\n      if (range == null) {\r\n        range = this.editor.editable.selection.range();\r\n      }\r\n      if (range.collapsed) {\r\n        $mark = $(range.commonAncestorContainer);\r\n        if (!$mark.is('mark')) {\r\n          $mark = $mark.parent();\r\n        }\r\n      } else if ($(range.startContainer).closest('mark').length) {\r\n        $mark = $(range.startContainer).closest('mark');\r\n      } else if ($(range.endContainer).closest('mark').length) {\r\n        $mark = $(range.endContainer).closest('mark');\r\n      }\r\n      return $mark.replaceWith($mark.html());\r\n    }\r\n\r\n  });\r\n\r\n  \r\n  addons.actions.mark = MarkAction;\r\n\r\n  return MarkAction;\r\n\r\n }); \ndefine('skylark-widgets-wordpad/addons/actions/OrderListAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"./ListAction\"\r\n],function($,addons,ListAction){ \r\n  var OrderListAction = ListAction.inherit({\r\n    type : 'ol',\r\n\r\n    name : 'ol',\r\n\r\n    icon : 'list-ol',\r\n\r\n    htmlTag : 'ol',\r\n\r\n    shortcut : 'cmd+/',\r\n\r\n    _init : function() {\r\n      if (this.editor.editable.util.os.mac) {\r\n        this.title = this.title + ' ( Cmd + / )';\r\n      } else {\r\n        this.title = this.title + ' ( ctrl + / )';\r\n        this.shortcut = 'ctrl+/';\r\n      }\r\n      return ListAction.prototype._init.call(this);\r\n    }\r\n\r\n   });\r\n\r\n    return addons.actions.ol = OrderListAction;\t\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/OutdentAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n  var OutdentAction = Action.inherit({\r\n    name : 'outdent',\r\n\r\n    icon : 'outdent',\r\n\r\n    _init : function() {\r\n      var hotkey;\r\n      hotkey = this.editor.opts.tabIndent === false ? '' : ' (Shift + Tab)';\r\n      this.title = this._t(this.name) + hotkey;\r\n      return Action.prototype._init.call(this);\r\n    },\r\n\r\n    _status : function() {},\r\n\r\n    _execute : function() {\r\n      return this.editor.editable.outdent();\r\n    }\r\n\r\n   });\r\n\r\n\r\n   addons.actions.outdent = OutdentAction; \r\n \r\n   return OutdentAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/StrikethroughAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){ \r\n  \r\n  var StrikethroughAction = Action.inherit({\r\n    name : 'strikethrough',\r\n\r\n    icon : 'strikethrough',\r\n\r\n    htmlTag : 'strike',\r\n\r\n    disableTag : 'pre',\r\n\r\n    _activeStatus : function() {\r\n      var active;\r\n      active = this.editor.editable.isActive('strikethrough');\r\n      this.setActive(active);\r\n      return this.active;\r\n    },\r\n\r\n    _execute : function() {\r\n      return this.editor.editable.strikethrough();\r\n    }\r\n\r\n  });\r\n\r\n\r\n  return addons.actions.strikethrough = StrikethroughAction;\t\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/TableAction',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-tables\",\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function(langx,tables,$,addons,Action){ \r\n  var TableAction = Action.inherit({\r\n    name : 'table',\r\n\r\n    icon : 'table',\r\n\r\n    htmlTag : 'table',\r\n\r\n    disableTag : 'pre, li, blockquote',\r\n\r\n    menu : true,\r\n\r\n    _init : function() {\r\n      Action.prototype._init.call(this);\r\n      langx.merge(this.editor.editable.formatter._allowedTags, ['thead', 'th', 'tbody', 'tr', 'td', 'colgroup', 'col']);\r\n      langx.extend(this.editor.editable.formatter._allowedAttributes, {\r\n        td: ['rowspan', 'colspan'],\r\n        col: ['width']\r\n      });\r\n      langx.extend(this.editor.editable.formatter._allowedStyles, {\r\n        td: ['text-align'],\r\n        th: ['text-align']\r\n      });\r\n      this._initShortcuts();\r\n      this._initResize();\r\n      this.editor.on('decorate', (function(_this) {\r\n        return function(e, $el) {\r\n          return $el.find('table').each(function(i, table) {\r\n            return _this.decorate($(table));\r\n          });\r\n        };\r\n      })(this));\r\n      this.editor.on('undecorate', (function(_this) {\r\n        return function(e, $el) {\r\n          return $el.find('table').each(function(i, table) {\r\n            return _this.undecorate($(table));\r\n          });\r\n        };\r\n      })(this));\r\n      this.editor.on('selectionchanged.table', (function(_this) {\r\n        return function(e) {\r\n          var $container, range;\r\n          _this.editor.body.find('.wordpad-table td, .wordpad-table th').removeClass('active');\r\n          range = _this.editor.editable.selection.range();\r\n          if (!range) {\r\n            return;\r\n          }\r\n          $container = _this.editor.editable.selection.containerNode();\r\n          if (range.collapsed && $container.is('.wordpad-table')) {\r\n            _this.editor.editable.selection.setRangeAtEndOf($container);\r\n          }\r\n          return $container.closest('td, th', _this.editor.body).addClass('active');\r\n        };\r\n      })(this));\r\n      this.editor.on('blur.table', (function(_this) {\r\n        return function(e) {\r\n          return _this.editor.body.find('.wordpad-table td, .wordpad-table th').removeClass('active');\r\n        };\r\n      })(this));\r\n      this.editor.editable.keystroke.add('up', 'td', (function(_this) {\r\n        return function(e, $node) {\r\n          _this._tdNav($node, 'up');\r\n          return true;\r\n        };\r\n      })(this));\r\n      this.editor.editable.keystroke.add('up', 'th', (function(_this) {\r\n        return function(e, $node) {\r\n          _this._tdNav($node, 'up');\r\n          return true;\r\n        };\r\n      })(this));\r\n      this.editor.editable.keystroke.add('down', 'td', (function(_this) {\r\n        return function(e, $node) {\r\n          _this._tdNav($node, 'down');\r\n          return true;\r\n        };\r\n      })(this));\r\n      return this.editor.editable.keystroke.add('down', 'th', (function(_this) {\r\n        return function(e, $node) {\r\n          _this._tdNav($node, 'down');\r\n          return true;\r\n        };\r\n      })(this));\r\n    },\r\n\r\n    _tdNav : function($td, direction) {\r\n      var $anotherTr, $tr, action, anotherTag, index, parentTag, ref;\r\n      if (direction == null) {\r\n        direction = 'up';\r\n      }\r\n      action = direction === 'up' ? 'prev' : 'next';\r\n      ref = direction === 'up' ? ['tbody', 'thead'] : ['thead', 'tbody'], parentTag = ref[0], anotherTag = ref[1];\r\n      $tr = $td.parent('tr');\r\n      $anotherTr = this[\"_\" + action + \"Row\"]($tr);\r\n      if (!($anotherTr.length > 0)) {\r\n        return true;\r\n      }\r\n      index = $tr.find('td, th').index($td);\r\n      return this.editor.editable.selection.setRangeAtEndOf($anotherTr.find('td, th').eq(index));\r\n    },\r\n\r\n    _initResize : function() {\r\n\r\n      tables.resizable(document,{\r\n        cssClasses : {\r\n          resizeHandle : \"wordpad-resize-handle\",\r\n          wrapper : \"wordpad-table\"\r\n        }\r\n      });\r\n\r\n    },\r\n\r\n    _initShortcuts : function() {\r\n      this.editor.editable.hotkeys.add('ctrl+alt+up', (function(_this) {\r\n        return function(e) {\r\n          _this.editMenu.find('.menu-item[data-param=insertRowAbove]').click();\r\n          return false;\r\n        };\r\n      })(this));\r\n      this.editor.editable.hotkeys.add('ctrl+alt+down', (function(_this) {\r\n        return function(e) {\r\n          _this.editMenu.find('.menu-item[data-param=insertRowBelow]').click();\r\n          return false;\r\n        };\r\n      })(this));\r\n      this.editor.editable.hotkeys.add('ctrl+alt+left', (function(_this) {\r\n        return function(e) {\r\n          _this.editMenu.find('.menu-item[data-param=insertColLeft]').click();\r\n          return false;\r\n        };\r\n      })(this));\r\n      return this.editor.editable.hotkeys.add('ctrl+alt+right', (function(_this) {\r\n        return function(e) {\r\n          _this.editMenu.find('.menu-item[data-param=insertColRight]').click();\r\n          return false;\r\n        };\r\n      })(this));\r\n    },\r\n\r\n    renderMenu : function() {\r\n      var $table;\r\n      $(\"<div class=\\\"menu-create-table\\\">\\n</div>\\n<div class=\\\"menu-edit-table\\\">\\n  <ul>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"deleteRow\\\">\\n        <span>\" + (this._t('deleteRow')) + \"</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertRowAbove\\\">\\n        <span>\" + (this._t('insertRowAbove')) + \" ( Ctrl + Alt + ↑ )</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertRowBelow\\\">\\n        <span>\" + (this._t('insertRowBelow')) + \" ( Ctrl + Alt + ↓ )</span>\\n      </a>\\n    </li>\\n    <li><span class=\\\"separator\\\"></span></li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"deleteCol\\\">\\n        <span>\" + (this._t('deleteColumn')) + \"</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertColLeft\\\">\\n        <span>\" + (this._t('insertColumnLeft')) + \" ( Ctrl + Alt + ← )</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertColRight\\\">\\n        <span>\" + (this._t('insertColumnRight')) + \" ( Ctrl + Alt + → )</span>\\n      </a>\\n    </li>\\n    <li><span class=\\\"separator\\\"></span></li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"deleteTable\\\">\\n        <span>\" + (this._t('deleteTable')) + \"</span>\\n      </a>\\n    </li>\\n  </ul>\\n</div>\").appendTo(this.menuWrapper);\r\n      this.createMenu = this.menuWrapper.find('.menu-create-table');\r\n      this.editMenu = this.menuWrapper.find('.menu-edit-table');\r\n      $table = this.createTable(6, 6).appendTo(this.createMenu);\r\n      this.createMenu.on('mouseenter', 'td, th', (function(_this) {\r\n        return function(e) {\r\n          var $td, $tr, $trs, num;\r\n          _this.createMenu.find('td, th').removeClass('selected');\r\n          $td = $(e.currentTarget);\r\n          $tr = $td.parent();\r\n          num = $tr.find('td, th').index($td) + 1;\r\n          $trs = $tr.prevAll('tr').addBack();\r\n          if ($tr.parent().is('tbody')) {\r\n            $trs = $trs.add($table.find('thead tr'));\r\n          }\r\n          return $trs.find(\"td:lt(\" + num + \"), th:lt(\" + num + \")\").addClass('selected');\r\n        };\r\n      })(this));\r\n      this.createMenu.on('mouseleave', function(e) {\r\n        return $(e.currentTarget).find('td, th').removeClass('selected');\r\n      });\r\n      return this.createMenu.on('mousedown', 'td, th', (function(_this) {\r\n        return function(e) {\r\n          var $closestBlock, $td, $tr, colNum, rowNum;\r\n          _this.wrapper.removeClass('menu-on');\r\n          if (!_this.editor.editable.inputManager.focused) {\r\n            return;\r\n          }\r\n          $td = $(e.currentTarget);\r\n          $tr = $td.parent();\r\n          colNum = $tr.find('td').index($td) + 1;\r\n          rowNum = $tr.prevAll('tr').length + 1;\r\n          if ($tr.parent().is('tbody')) {\r\n            rowNum += 1;\r\n          }\r\n          $table = _this.createTable(rowNum, colNum, true);\r\n          $closestBlock = _this.editor.editable.selection.blockNodes().last();\r\n          if (_this.editor.editable.util.isEmptyNode($closestBlock)) {\r\n            $closestBlock.replaceWith($table);\r\n          } else {\r\n            $closestBlock.after($table);\r\n          }\r\n          _this.decorate($table);\r\n          _this.editor.editable.selection.setRangeAtStartOf($table.find('th:first'));\r\n          _this.editor.trigger('valuechanged');\r\n          return false;\r\n        };\r\n      })(this));\r\n    },\r\n\r\n    decorate : function($table) {\r\n      return $(tables.decorate($table[0],{\r\n        tableDecorate : 'wordpad-table',\r\n        resizeHandle : 'wordpad-resize-handle'\r\n      }));\r\n\r\n    },\r\n\r\n    undecorate : function($table) {\r\n      return $(tables.undecorate($table[0],{\r\n        tableDecorate : 'wordpad-table',\r\n        resizeHandle : 'wordpad-resize-handle'\r\n      }));\r\n\r\n    },\r\n\r\n\r\n    createTable : function(row, col, phBr) {\r\n      return $(tables.createTable(row,col,phBr ? this.editor.editable.util.phBr : null));\r\n    },\r\n\r\n    refreshTableWidth : function($table) {\r\n      return table.refreshTableWidth($table[0]);\r\n    },\r\n\r\n    deleteRow : function($td) {\r\n      var self = this,\r\n          ret; \r\n\r\n      tables.deleteRow($td[0],function(newTr,index){\r\n        if (newTr) {\r\n          ret = self.editor.editable.selection.setRangeAtEndOf($(newTr).find('td, th').eq(index));\r\n        }\r\n      })\r\n\r\n      return ret;\r\n    },\r\n\r\n    insertRow : function($td, direction) {\r\n      var self = this,\r\n          ret; \r\n\r\n      tables.insertRow($td[0],direction,self.editor.editable.util.phBr,function(newTr,index){\r\n        ret =  self.editor.editable.selection.setRangeAtStartOf($(newTr).find('td, th').eq(index));\r\n      })\r\n\r\n      return ret;\r\n\r\n    },\r\n\r\n    deleteCol : function($td) {\r\n      var self = this,\r\n          ret; \r\n\r\n      tables.deleteCol($td[0],function(newTd){\r\n        if (newTd) {\r\n          ret = self.editor.editable.selection.setRangeAtEndOf($(newTd));\r\n        }\r\n      })\r\n\r\n      return ret;\r\n    },\r\n\r\n    insertCol : function($td, direction) {\r\n      var self = this,\r\n          ret; \r\n\r\n      tables.insertCol($td[0],direction,self.editor.editable.util.phBr,function(newTd){\r\n        ret = self.editor.editable.selection.setRangeAtStartOf($(newTd));\r\n      })\r\n\r\n      return ret;\r\n    },\r\n\r\n    deleteTable : function($td) {\r\n      var self = this;\r\n      tables.deleteTable($td[0],function($block){\r\n        if ($block.length > 0) {\r\n          return self.editor.editable.selection.setRangeAtStartOf($block);\r\n        }\r\n      });\r\n    },\r\n\r\n    _execute : function(param) {\r\n      var $td;\r\n      $td = this.editor.editable.selection.containerNode().closest('td, th');\r\n      if (!($td.length > 0)) {\r\n        return;\r\n      }\r\n      if (param === 'deleteRow') {\r\n        this.deleteRow($td);\r\n      } else if (param === 'insertRowAbove') {\r\n        this.insertRow($td, 'before');\r\n      } else if (param === 'insertRowBelow') {\r\n        this.insertRow($td);\r\n      } else if (param === 'deleteCol') {\r\n        this.deleteCol($td);\r\n      } else if (param === 'insertColLeft') {\r\n        this.insertCol($td, 'before');\r\n      } else if (param === 'insertColRight') {\r\n        this.insertCol($td);\r\n      } else if (param === 'deleteTable') {\r\n        this.deleteTable($td);\r\n      } else {\r\n        return;\r\n      }\r\n      return this.editor.trigger('valuechanged');\r\n    }\r\n\r\n   });\r\n\r\n\r\n  addons.actions.table = TableAction;\r\n\r\n  return TableAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/TitleAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\",\r\n  \"../../i18n\"\r\n],function($,addons,Action,i18n){ \r\n  var TitleAction = Action.inherit({\r\n    name : 'title',\r\n\r\n    htmlTag : 'h1, h2, h3, h4, h5',\r\n\r\n    disableTag : 'pre, table',\r\n\r\n    _init : function() {\r\n      this.menu = [\r\n        {\r\n          name: 'normal',\r\n          text: i18n.translate('normalText'),\r\n          param: 'p'\r\n        }, '|', {\r\n          name: 'h1',\r\n          text: i18n.translate('title') + ' 1',\r\n          param: 'h1'\r\n        }, {\r\n          name: 'h2',\r\n          text: i18n.translate('title') + ' 2',\r\n          param: 'h2'\r\n        }, {\r\n          name: 'h3',\r\n          text: i18n.translate('title') + ' 3',\r\n          param: 'h3'\r\n        }, {\r\n          name: 'h4',\r\n          text: i18n.translate('title') + ' 4',\r\n          param: 'h4'\r\n        }, {\r\n          name: 'h5',\r\n          text: i18n.translate('title') + ' 5',\r\n          param: 'h5'\r\n        }\r\n      ];\r\n      return Action.prototype._init.call(this);\r\n    },\r\n\r\n    setActive : function(active, param) {\r\n      if (active) {\r\n        active = this.node[0].tagName.toLowerCase();\r\n      }\r\n      Action.prototype.setActive.call(this, active);\r\n    },\r\n\r\n    _execute : function(param) {\r\n      return this.editor.editable.title(param,this.disableTag);\r\n    }\r\n\r\n  });\r\n\r\n  addons.actions.title = TitleAction;\r\n\r\n  return TitleAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/UnderlineAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"../../Action\"\r\n],function($,addons,Action){\r\n  var UnderlineAction = Action.inherit({\r\n    name : 'underline',\r\n\r\n    icon : 'underline',\r\n\r\n    htmlTag : 'u',\r\n\r\n    disableTag : 'pre',\r\n\r\n    shortcut : 'cmd+u',\r\n\r\n    render : function() {\r\n      if (this.editor.editable.util.os.mac) {\r\n        this.title = this.title + ' ( Cmd + u )';\r\n      } else {\r\n        this.title = this.title + ' ( Ctrl + u )';\r\n        this.shortcut = 'ctrl+u';\r\n      }\r\n      return Action.prototype.render.call(this);\r\n    },\r\n\r\n    _activeStatus : function() {\r\n      var active;\r\n      active = this.editor.editable.isActive('underline');\r\n      this.setActive(active);\r\n      return this.active;\r\n    },\r\n\r\n    _execute : function() {\r\n      return this.editor.editable.underline();\r\n    }\r\n\r\n   });\r\n\r\n\r\n  addons.actions.underline = UnderlineAction;\r\n\r\n  return UnderlineAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/actions/UnorderListAction',[\r\n  \"skylark-domx-query\",\r\n  \"../../addons\",\r\n  \"./ListAction\"\r\n],function($,addons,ListAction){ \r\n   var UnorderListAction = ListAction.inherit({\r\n      type : 'ul',\r\n\r\n      name : 'ul',\r\n\r\n      icon : 'list-ul',\r\n\r\n      htmlTag : 'ul',\r\n\r\n      shortcut : 'cmd+.',\r\n\r\n      _init : function() {\r\n        if (this.editor.editable.util.os.mac) {\r\n          this.title = this.title + ' ( Cmd + . )';\r\n        } else {\r\n          this.title = this.title + ' ( Ctrl + . )';\r\n          this.shortcut = 'ctrl+.';\r\n        }\r\n        return ListAction.prototype._init.call(this);\r\n      }\r\n\r\n   });\r\n\r\n\r\n    addons.actions.ul = UnorderListAction;\r\n\r\n    return UnorderListAction;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/toolbar/items/AlignmentButton',[\r\n  \"skylark-domx-query\",\r\n  \"../../../ToolButton\",\r\n  \"../../../i18n\",\r\n  \"../../../addons\"\r\n],function($,ToolButton,i18n,addons){ \r\n\r\n var AlignmentButton = ToolButton.inherit({\r\n    _doActive : function(align) {\r\n\r\n      ToolButton.prototype._doActive.call(this, !!align);\r\n\r\n      this.el.removeClass('align-left align-center align-right');\r\n      if (align) {\r\n        this.el.addClass('align-' + align);\r\n      }\r\n      this.setIcon('align-' + align);\r\n      return this.menuEl.find('.menu-item').show().end().find('.menu-item-' + align).hide();\r\n\r\n    }\r\n\r\n  });\r\n\r\n\r\n  addons.toolbar.items.alignment = AlignmentButton;\r\n\r\n  return AlignmentButton;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/toolbar/items/ColorButton',[\r\n  \"skylark-domx-query\",\r\n  \"../../../ToolButton\",\r\n  \"../../../i18n\",\r\n  \"../../../addons\"\r\n],function($,ToolButton,i18n,addons){ \r\n  \r\n\r\n   var ColorButton = ToolButton.inherit({\r\n    render : function() {\r\n      var args;\r\n      args = 1 <= arguments.length ? Array.prototype.slice.call(arguments, 0) : [];\r\n      return ToolButton.prototype.render.apply(this, args);\r\n    },\r\n\r\n    renderMenu : function() {\r\n      $('<ul class=\"color-list\">\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-1\"></a></li>\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-2\"></a></li>\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-3\"></a></li>\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-4\"></a></li>\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-5\"></a></li>\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-6\"></a></li>\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-7\"></a></li>\\n  <li><a href=\"javascript:;\" class=\"font-color font-color-default\"></a></li>\\n</ul>').appendTo(this.menuWrapper);\r\n      this.menuWrapper.on('mousedown', '.color-list', function(e) {\r\n        return false;\r\n      });\r\n      return this.menuWrapper.on('click', '.font-color', (function(_this) {\r\n        return function(e) {\r\n          var $link, $p, hex, range, rgb, textNode;\r\n          _this.wrapper.removeClass('menu-on');\r\n          $link = $(e.currentTarget);\r\n          if ($link.hasClass('font-color-default')) {\r\n            $p = _this.editor.body.find('p, li');\r\n            if (!($p.length > 0)) {\r\n              return;\r\n            }\r\n            rgb = window.getComputedStyle($p[0], null).getPropertyValue('color');\r\n            hex = _this._convertRgbToHex(rgb);\r\n          } else {\r\n            rgb = window.getComputedStyle($link[0], null).getPropertyValue('background-color');\r\n            hex = _this._convertRgbToHex(rgb);\r\n          }\r\n          if (!hex) {\r\n            return;\r\n          }\r\n\r\n          return _this.editor.editable.fontColor(hex,$link.hasClass('font-color-default'),i18n.translate('coloredText'));\r\n        };\r\n      })(this));\r\n    },\r\n\r\n    _convertRgbToHex : function(rgb) {\r\n      var match, re, rgbToHex;\r\n      re = /rgb\\((\\d+),\\s?(\\d+),\\s?(\\d+)\\)/g;\r\n      match = re.exec(rgb);\r\n      if (!match) {\r\n        return '';\r\n      }\r\n      rgbToHex = function(r, g, b) {\r\n        var componentToHex;\r\n        componentToHex = function(c) {\r\n          var hex;\r\n          hex = c.toString(16);\r\n          if (hex.length === 1) {\r\n            return '0' + hex;\r\n          } else {\r\n            return hex;\r\n          }\r\n        };\r\n        return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n      };\r\n      return rgbToHex(match[1] * 1, match[2] * 1, match[3] * 1);\r\n    }\r\n\r\n   });\r\n\r\n   \r\n   addons.toolbar.items.color = ColorButton; \r\n\r\n\r\n   return ColorButton;\r\n\t\r\n});\ndefine('skylark-widgets-wordpad/addons/toolbar/items/EmojiButton',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"../../../ToolButton\",\r\n  \"../../../i18n\",\r\n  \"../../../addons\"\r\n],function(langx, $,ToolButton,i18n,addons){ \r\n\r\n  var EmojiButton = ToolButton.inherit({\r\n\r\n    renderMenu : function() {\r\n      var $list, dir, html, name, opts, src, tpl, _i, _len, _ref;\r\n      tpl = '<ul class=\"emoji-list\">\\n</ul>';\r\n      opts = langx.extend({\r\n        imagePath: 'images/emoji/',\r\n        images: EmojiButton.images\r\n      }, this.editor.opts.emoji || {});\r\n      html = \"\";\r\n      dir = opts.imagePath.replace(/\\/$/, '') + '/';\r\n      _ref = opts.images;\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        name = _ref[_i];\r\n        src = \"\" + dir + name;\r\n        name = name.split('.')[0];\r\n        html += \"<li data-name='\" + name + \"'><img src='\" + src + \"' width='20' height='20' alt='\" + name + \"' /></li>\";\r\n      }\r\n      $list = $(tpl);\r\n      $list.html(html).appendTo(this.menuWrapper);\r\n      return $list.on('mousedown', 'li', (function(_this) {\r\n        return function(e) {\r\n          var $img;\r\n          _this.wrapper.removeClass('menu-on');\r\n          if (!_this.editor.editable.inputManager.focused) {\r\n            return;\r\n          }\r\n          $img = $(e.currentTarget).find('img').clone().attr({\r\n            'data-emoji': true,\r\n            'data-non-image': true\r\n          });\r\n          _this.editor.editable.selection.insertNode($img);\r\n          _this.editor.trigger('valuechanged');\r\n          _this.editor.trigger('selectionchanged');\r\n          return false;\r\n        };\r\n      })(this));\r\n    }\r\n\r\n  });\r\n\r\n\r\n  EmojiButton.i18n = {\r\n    'zh-CN': {\r\n      emoji: '表情'\r\n    },\r\n    'en-US': {\r\n      emoji: 'emoji'\r\n    }\r\n  };\r\n\r\n  EmojiButton.images = ['smile.png', 'smiley.png', 'laughing.png', 'blush.png', 'heart_eyes.png', 'smirk.png', 'flushed.png', 'grin.png', 'wink.png', 'kissing_closed_eyes.png', 'stuck_out_tongue_winking_eye.png', 'stuck_out_tongue.png', 'sleeping.png', 'worried.png', 'expressionless.png', 'sweat_smile.png', 'cold_sweat.png', 'joy.png', 'sob.png', 'angry.png', 'mask.png', 'scream.png', 'sunglasses.png', 'heart.png', 'broken_heart.png', 'star.png', 'anger.png', 'exclamation.png', 'question.png', 'zzz.png', 'thumbsup.png', 'thumbsdown.png', 'ok_hand.png', 'punch.png', 'v.png', 'clap.png', 'muscle.png', 'pray.png', 'skull.png', 'trollface.png'];\r\n\r\n\r\n  addons.toolbar.items.emoji = EmojiButton; \r\n\r\n  return EmojiButton;\r\n\t\r\n});\ndefine('skylark-widgets-wordpad/addons/toolbar/items/TableButton',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"../../../ToolButton\",\r\n  \"../../../i18n\",\r\n  \"../../../addons\"\r\n],function(langx, $,ToolButton,i18n,addons){ \r\n\r\n  var TableButton = ToolButton.inherit({\r\n    _doActive : function(active) {\r\n\r\n      ToolButton.prototype._doActive.call(this, active);\r\n\r\n      if (active) {\r\n        this.createMenu.hide();\r\n        return this.editMenu.show();\r\n      } else {\r\n        this.createMenu.show();\r\n        return this.editMenu.hide();\r\n      }\r\n\r\n    }\r\n   });\r\n\r\n\r\n  TableButton.prototype.renderMenu = function() {\r\n    var $table;\r\n    $(\"<div class=\\\"menu-create-table\\\">\\n</div>\\n<div class=\\\"menu-edit-table\\\">\\n  <ul>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"deleteRow\\\">\\n        <span>\" + (i18n.translate('deleteRow')) + \"</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertRowAbove\\\">\\n        <span>\" + (i18n.translate('insertRowAbove')) + \" ( Ctrl + Alt + ↑ )</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertRowBelow\\\">\\n        <span>\" + (i18n.translate('insertRowBelow')) + \" ( Ctrl + Alt + ↓ )</span>\\n      </a>\\n    </li>\\n    <li><span class=\\\"separator\\\"></span></li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"deleteCol\\\">\\n        <span>\" + (i18n.translate('deleteColumn')) + \"</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertColLeft\\\">\\n        <span>\" + (i18n.translate('insertColumnLeft')) + \" ( Ctrl + Alt + ← )</span>\\n      </a>\\n    </li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"insertColRight\\\">\\n        <span>\" + (i18n.translate('insertColumnRight')) + \" ( Ctrl + Alt + → )</span>\\n      </a>\\n    </li>\\n    <li><span class=\\\"separator\\\"></span></li>\\n    <li>\\n      <a tabindex=\\\"-1\\\" unselectable=\\\"on\\\" class=\\\"menu-item\\\"\\n        href=\\\"javascript:;\\\" data-param=\\\"deleteTable\\\">\\n        <span>\" + (i18n.translate('deleteTable')) + \"</span>\\n      </a>\\n    </li>\\n  </ul>\\n</div>\").appendTo(this.menuWrapper);\r\n    this.createMenu = this.menuWrapper.find('.menu-create-table');\r\n    this.editMenu = this.menuWrapper.find('.menu-edit-table');\r\n    $table = this.action.createTable(6, 6).appendTo(this.createMenu);\r\n    this.createMenu.on('mouseenter', 'td, th', (function(_this) {\r\n      return function(e) {\r\n        var $td, $tr, $trs, num;\r\n        _this.createMenu.find('td, th').removeClass('selected');\r\n        $td = $(e.currentTarget);\r\n        $tr = $td.parent();\r\n        num = $tr.find('td, th').index($td) + 1;\r\n        $trs = $tr.prevAll('tr').addBack();\r\n        if ($tr.parent().is('tbody')) {\r\n          $trs = $trs.add($table.find('thead tr'));\r\n        }\r\n        return $trs.find(\"td:lt(\" + num + \"), th:lt(\" + num + \")\").addClass('selected');\r\n      };\r\n    })(this));\r\n    this.createMenu.on('mouseleave', function(e) {\r\n      return $(e.currentTarget).find('td, th').removeClass('selected');\r\n    });\r\n    return this.createMenu.on('mousedown', 'td, th', (function(_this) {\r\n      return function(e) {\r\n        var $closestBlock, $td, $tr, colNum, rowNum;\r\n        _this.wrapper.removeClass('menu-on');\r\n        if (!_this.editor.editable.inputManager.focused) {\r\n          return;\r\n        }\r\n        $td = $(e.currentTarget);\r\n        $tr = $td.parent();\r\n        colNum = $tr.find('td').index($td) + 1;\r\n        rowNum = $tr.prevAll('tr').length + 1;\r\n        if ($tr.parent().is('tbody')) {\r\n          rowNum += 1;\r\n        }\r\n        $table = _this.action.createTable(rowNum, colNum, true);\r\n        $closestBlock = _this.editor.editable.selection.blockNodes().last();\r\n        if (_this.editor.editable.util.isEmptyNode($closestBlock)) {\r\n          $closestBlock.replaceWith($table);\r\n        } else {\r\n          $closestBlock.after($table);\r\n        }\r\n        _this.action.decorate($table);\r\n        _this.editor.editable.selection.setRangeAtStartOf($table.find('th:first'));\r\n        _this.editor.trigger('valuechanged');\r\n        return false;\r\n      };\r\n    })(this));\r\n  };\r\n\r\n\r\n  addons.toolbar.items.table = TableButton;\r\n\r\n  return TableButton;\r\n\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/toolbar/items/TitleButton',[\r\n  \"skylark-domx-query\",\r\n  \"../../../ToolButton\",\r\n  \"../../../addons\"\r\n],function($,ToolButton,addons){ \r\n  var TitleButton = ToolButton.inherit({\r\n      _doActive : function(value) {\r\n        var active = !!value,\r\n            param = value;\r\n        ToolButton.prototype._doActive.call(this, active);\r\n\r\n        if (active) {\r\n          param || (param = this.node[0].tagName.toLowerCase());\r\n        }\r\n        this.el.removeClass('active-p active-h1 active-h2 active-h3 active-h4 active-h5');\r\n        if (active) {\r\n          return this.el.addClass('active active-' + param);\r\n        }\r\n      }\r\n   });\r\n\r\n\r\n  addons.toolbar.items.title = TitleButton;\r\n\r\n  return TitleButton;\r\n\r\n});\ndefine('skylark-widgets-base/Addon',[\r\n  \"skylark-langx/langx\",\t\r\n  \"skylark-langx/Evented\",\r\n\t\"./base\"\r\n],function(langx,Evented,base){\r\n\r\n\tvar Addon = Evented.inherit({\r\n\r\n\t\t_construct : function(widget,options) {\r\n\t\t\tthis._widget = widget;\r\n            Object.defineProperty(this,\"options\",{\r\n              value :langx.mixin({},this.options,options,true)\r\n            });\r\n\t\t\tif (this._init) {\r\n\t\t\t\tthis._init();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tAddon.register = function(Widget) {\r\n\t\tvar categoryName = this.categoryName,\r\n\t\t\taddonName = this.addonName;\r\n\r\n\t\tif (categoryName && addonName) {\r\n\t\t\tWidget.addons = Widget.addons || {};\r\n\t\t\tWidget.addons[categoryName] = Widget.addons[categoryName] || {};\r\n\t\t\tWidget.addons[categoryName][addonName] = this;\r\n\t\t}\r\n\t};\r\n\r\n\treturn base.Addon = Addon;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/AutoSave',[\r\n  \"skylark-domx-query\",\r\n  \"skylark-widgets-base/Addon\",\r\n  \"../Toolbar\",\r\n  \"../Wordpad\",\r\n  \"../i18n\"\r\n],function($,Addon, Toolbar,Wordpad,i18n){ \r\n\r\n\r\n  var AutoSave = Addon.inherit({\r\n    needFocus : false,\r\n\r\n    _init : function() {\r\n\r\n\t    var currentVal, link, name, val;\r\n\t    this.editor = this._module;\r\n\t    if (!this.opts.autosave) {\r\n\t      return;\r\n\t    }\r\n\t    this.name = typeof this.opts.autosave === 'string' ? this.opts.autosave : 'simditor';\r\n\t    if (this.opts.autosavePath) {\r\n\t      this.path = this.opts.autosavePath;\r\n\t    } else {\r\n\t      link = $(\"<a/>\", {\r\n\t        href: location.href\r\n\t      });\r\n\t      name = this.editor.textarea.data('autosave') || this.name;\r\n\t      this.path = \"/\" + (link[0].pathname.replace(/\\/$/g, \"\").replace(/^\\//g, \"\")) + \"/autosave/\" + name + \"/\";\r\n\t    }\r\n\t    if (!this.path) {\r\n\t      return;\r\n\t    }\r\n\t    this.editor.on(\"valuechanged\", (function(_this) {\r\n\t      return function() {\r\n\t        return _this.storage.set(_this.path, _this.editor.getValue());\r\n\t      };\r\n\t    })(this));\r\n\t    this.editor.el.closest('form').on('ajax:success.simditor-' + this.editor.id, (function(_this) {\r\n\t      return function(e) {\r\n\t        return _this.storage.remove(_this.path);\r\n\t      };\r\n\t    })(this));\r\n\t    val = this.storage.get(this.path);\r\n\t    if (!val) {\r\n\t      return;\r\n\t    }\r\n\t    currentVal = this.editor.textarea.val();\r\n\t    if (val === currentVal) {\r\n\t      return;\r\n\t    }\r\n\t    if (this.editor.textarea.is('[data-autosave-confirm]')) {\r\n\t      if (confirm(this.editor.textarea.data('autosave-confirm') || 'Are you sure to restore unsaved changes?')) {\r\n\t        return this.editor.setValue(val);\r\n\t      } else {\r\n\t        return this.storage.remove(this.path);\r\n\t      }\r\n\t    } else {\r\n\t      return this.editor.setValue(val);\r\n\t    }\r\n\r\n    }\r\n\r\n  });\r\n\r\n\r\n  AutoSave.categoryName = \"general\";\r\n  AutoSave.addonName = 'autosave';\r\n\r\n  AutoSave.prototype.opts = {\r\n    autosave: true,\r\n    autosavePath: null\r\n  };\r\n\r\n\r\n  AutoSave.prototype.storage = {\r\n    supported: function() {\r\n      var error;\r\n      try {\r\n        localStorage.setItem('_storageSupported', 'yes');\r\n        localStorage.removeItem('_storageSupported');\r\n        return true;\r\n      } catch (_error) {\r\n        error = _error;\r\n        return false;\r\n      }\r\n    },\r\n    set: function(key, val, session) {\r\n      var storage;\r\n      if (session == null) {\r\n        session = false;\r\n      }\r\n      if (!this.supported()) {\r\n        return;\r\n      }\r\n      storage = session ? sessionStorage : localStorage;\r\n      return storage.setItem(key, val);\r\n    },\r\n    get: function(key, session) {\r\n      var storage;\r\n      if (session == null) {\r\n        session = false;\r\n      }\r\n      if (!this.supported()) {\r\n        return;\r\n      }\r\n      storage = session ? sessionStorage : localStorage;\r\n      return storage[key];\r\n    },\r\n    remove: function(key, session) {\r\n      var storage;\r\n      if (session == null) {\r\n        session = false;\r\n      }\r\n      if (!this.supported()) {\r\n        return;\r\n      }\r\n      storage = session ? sessionStorage : localStorage;\r\n      return storage.removeItem(key);\r\n    }\r\n  };\r\n\r\n  return Wordpad.addons.general.autoSave = AutoSave;\r\n\r\n});\ndefine('skylark-widgets-wordpad/addons/Dropzone',[\r\n  \"skylark-domx-query\",\r\n  \"skylark-widgets-base/Addon\",\r\n  \"../Toolbar\",\r\n  \"../Wordpad\",\r\n  \"../i18n\"\r\n],function($,Addon, Toolbar,Wordpad,i18n){ \r\n\r\n\r\n  var Dropzone = Addon.inherit({\r\n  });\r\n\r\n  Dropzone.categoryName = \"genernal\";\r\n\r\n  Dropzone.addonName = \"dropzone\";\r\n\r\n\r\n  Dropzone.prototype._entered = 0;\r\n\r\n  Dropzone.prototype._init = function() {\r\n    this.editor = this._widget;\r\n    if (this.editor.uploader == null) {\r\n      //throw new Error(\"Can't work without 'simple-uploader' module\");\r\n      return;\r\n    }\r\n    $(document.body).on(\"dragover\", function(e) {\r\n      e.originalEvent.dataTransfer.dropEffect = \"none\";\r\n      return e.preventDefault();\r\n    });\r\n    $(document.body).on('drop', function(e) {\r\n      return e.preventDefault();\r\n    });\r\n    this.imageBtn = this.editor.toolbar.findButton(\"image\");\r\n    return this.editor.body.on(\"dragover\", function(e) {\r\n      e.originalEvent.dataTransfer.dropEffect = \"copy\";\r\n      e.stopPropagation();\r\n      return e.preventDefault();\r\n    }).on(\"dragenter\", (function(_this) {\r\n      return function(e) {\r\n        if ((_this._entered += 1) === 1) {\r\n          _this.show();\r\n        }\r\n        e.preventDefault();\r\n        return e.stopPropagation();\r\n      };\r\n    })(this)).on(\"dragleave\", (function(_this) {\r\n      return function(e) {\r\n        if ((_this._entered -= 1) <= 0) {\r\n          _this.hide();\r\n        }\r\n        e.preventDefault();\r\n        return e.stopPropagation();\r\n      };\r\n    })(this)).on(\"drop\", (function(_this) {\r\n      return function(e) {\r\n        var file, imageFiles, _i, _j, _len, _len1, _ref;\r\n        imageFiles = [];\r\n        _ref = e.originalEvent.dataTransfer.files;\r\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n          file = _ref[_i];\r\n          if (!_this.validFile(file)) {\r\n            alert(\"「\" + file.name + \"]」文件不是图片。\");\r\n            _this.hide();\r\n            return false;\r\n          }\r\n          imageFiles.push(file);\r\n        }\r\n        for (_j = 0, _len1 = imageFiles.length; _j < _len1; _j++) {\r\n          file = imageFiles[_j];\r\n          _this.editor.uploader.upload(file, {\r\n            inline: true\r\n          });\r\n        }\r\n        _this.hide();\r\n        e.stopPropagation();\r\n        return e.preventDefault();\r\n      };\r\n    })(this));\r\n  };\r\n\r\n  Dropzone.prototype.show = function() {\r\n    return this.imageBtn.setActive(true);\r\n  };\r\n\r\n  Dropzone.prototype.hide = function() {\r\n    this.imageBtn.setActive(false);\r\n    return this._entered = 0;\r\n  };\r\n\r\n  Dropzone.prototype.validFile = function(file) {\r\n    return file.type.indexOf(\"image/\") > -1;\r\n  };\r\n\r\n  return Wordpad.addons.general.dropzone = Dropzone;\r\n\r\n\r\n});\ndefine('skylark-widgets-wordpad/main',[\r\n  \"./Wordpad\", \r\n  \"./Action\",\r\n  \"./Popover\",\r\n  \"./Toolbar\",\r\n  \"./ToolButton\", \r\n\r\n  \"./addons/actions/AlignmentAction\", \r\n  \"./addons/actions/BlockquoteAction\", \r\n  \"./addons/actions/BoldAction\", \r\n  \"./addons/actions/CodeAction\", \r\n  \"./addons/actions/CodePopover\", \r\n  \"./addons/actions/ColorAction\", \r\n  \"./addons/actions/EmojiAction\", \r\n  \"./addons/actions/FontScaleAction\", \r\n  \"./addons/actions/FullScreenAction\", \r\n  \"./addons/actions/HrAction\", \r\n  \"./addons/actions/HtmlAction\", \r\n  \"./addons/actions/ImageAction\", \r\n  \"./addons/actions/ImagePopover\", \r\n  \"./addons/actions/IndentAction\", \r\n  \"./addons/actions/ItalicAction\", \r\n  \"./addons/actions/LinkAction\", \r\n  \"./addons/actions/LinkPopover\", \r\n  \"./addons/actions/ListAction\", \r\n  \"./addons/actions/MarkAction\", \r\n  \"./addons/actions/OrderListAction\", \r\n  \"./addons/actions/OutdentAction\",\r\n  \"./addons/actions/StrikethroughAction\", \r\n  \"./addons/actions/TableAction\", \r\n  \"./addons/actions/TitleAction\", \r\n  \"./addons/actions/UnderlineAction\", \r\n  \"./addons/actions/UnorderListAction\",\r\n\r\n  \"./addons/toolbar/items/AlignmentButton\",\r\n  \"./addons/toolbar/items/ColorButton\",\r\n  \"./addons/toolbar/items/EmojiButton\",\r\n  \"./addons/toolbar/items/TableButton\",\r\n  \"./addons/toolbar/items/TitleButton\",\r\n\r\n  \"./addons/AutoSave\",\r\n  \"./addons/Dropzone\"\r\n],function(Wordpad){\r\n\t\r\n  return Wordpad;\r\n});\ndefine('skylark-widgets-wordpad', ['skylark-widgets-wordpad/main'], function (main) { return main; });\n\n"]}