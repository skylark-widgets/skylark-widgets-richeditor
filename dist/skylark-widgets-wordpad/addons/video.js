/**
 * skylark-widgets-wordpad - The skylark richeditor widget
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-wordpad/
 * @license MIT
 */
!function(e){e.Redactor.prototype.video=function(){return{reUrlYoutube:/https?:\/\/(?:[0-9A-Z-]+\.)?(?:youtu\.be\/|youtube\.com\S*[^\w\-\s])([\w\-]{11})(?=[^\w\-]|$)(?![?=&+%\w.-]*(?:['"][^<>]*>|<\/a>))[?=&+%\w.-]*/gi,reUrlVimeo:/https?:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/,langs:{en:{video:"Video","video-html-code":"Video Embed Code"},"zh-CN":{video:"视屏","video-html-code":"视频嵌入代码"},ja:{video:"ビデオ","video-html-code":"ビデオ埋め込みコード"}},getTemplate:function(){return String()+'<div class="modal-section" id="redactor-modal-video-insert"><section><label>'+this.lang.get("video-html-code")+'</label><textarea id="redactor-insert-video-area" style="height: 160px;"></textarea></section><section><button id="redactor-modal-button-action">Insert</button><button id="redactor-modal-button-cancel">Cancel</button></section></div>'},init:function(){var e=this.button.addAfter("image","video",this.lang.get("video"));this.button.addCallback(e,this.video.show)},show:function(){this.modal.addTemplate("video",this.video.getTemplate()),this.modal.load("video",this.lang.get("video"),700),this.modal.getActionButton().text(this.lang.get("insert")).on("click",this.video.insert),this.modal.show(),this.detect.isDesktop()&&setTimeout(function(){e("#redactor-insert-video-area").focus()},1)},insert:function(){var t=e("#redactor-insert-video-area").val();if(!t.match(/<iframe|<video/gi)){t=this.clean.stripTags(t),this.opts.videoContainerClass=void 0===this.opts.videoContainerClass?"video-container":this.opts.videoContainerClass;var i='<div class="'+this.opts.videoContainerClass+'"><iframe style="width: 500px; height: 281px;" src="',o='" frameborder="0" allowfullscreen></iframe></div>';t.match(this.video.reUrlYoutube)?t=t.replace(this.video.reUrlYoutube,i+"//www.youtube.com/embed/$1"+o):t.match(this.video.reUrlVimeo)&&(t=t.replace(this.video.reUrlVimeo,i+"//player.vimeo.com/video/$2"+o))}this.modal.close(),this.placeholder.hide(),this.buffer.set(),this.air.collapsed(),this.insert.html(t)}}}}(jQuery);
//# sourceMappingURL=../sourcemaps/addons/video.js.map
