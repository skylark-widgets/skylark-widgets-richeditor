{"version":3,"sources":["Toolbar.old.js"],"names":["define","langx","$","_Toolbar","Widget","ToolButton","addons","Toolbar","inherit","pluginName","_construct","editor","opts","this","elm","prototype","call","_render","k","len","name","ref","buttons","wrapper","_elm","prependTo","toolbar","length","action","findAction","toolItemCtor","items","push","addSeparator","toolbarHidden","hide","findButton","button","list","find","data","addButton","btn"],"mappings":";;;;;;;AAAAA,QACE,sBACA,qBACA,8BACA,8BACA,eACA,YACA,SAASC,EAAMC,EAAEC,EAAUC,EAAOC,EAAWC,GAE7C,IAAIC,EAAUJ,EAASK,SACrBC,WAAa,uBAEbC,WAAa,SAASC,EAAOC,GAC3BC,KAAKF,OAAQA,EACb,IAAIG,EAAMD,KAAKX,EAAE,6CAA+C,GAChEC,EAASY,UAAUL,WAAWM,KAAKH,KAAKC,EAAIF,GAC5CC,KAAKI,aAgDT,OA1CAV,EAAQQ,UAAUE,QAAU,WAC1B,IAAIC,EAAGC,EAAKC,EAAMC,EAKlB,IAJAR,KAAKS,WAELT,KAAKU,QAAUrB,EAAEW,KAAKW,MAAMC,UAAUZ,KAAKF,OAAOY,SAE7CL,EAAI,EAAGC,GADZE,EAAMR,KAAKD,KAAKc,SACMC,OAAQT,EAAIC,EAAKD,IAErC,GAAa,OADbE,EAAOC,EAAIH,IACX,CAKA,IAAIU,EAAUf,KAAKF,OAAOkB,WAAWT,GACjCU,EAAexB,EAAOoB,QAAQK,MAAMX,GAEnCU,IACHA,EAAezB,GAGjBQ,KAAKS,QAAQU,KAAK,IAAIF,GACpBF,OAAWA,EACXF,QAAYb,aAbZA,KAAKoB,eAgBT,GAAIpB,KAAKD,KAAKsB,cACZ,OAAOrB,KAAKU,QAAQY,QAIxB5B,EAAQQ,UAAUqB,WAAa,SAAShB,GACtC,IAAIiB,EAEJ,OAAiB,OADjBA,EAASxB,KAAKyB,KAAKC,KAAK,iBAAmBnB,GAAMoB,KAAK,WAC9BH,EAAS,MAGnC9B,EAAQkC,UAAY,SAASC,GAC3B,OAAO7B,KAAKS,QAAQoB,EAAI3B,UAAUK,MAAQsB,GAG5CnC,EAAQe,WAEDf","file":"../Toolbar.old.js","sourcesContent":["define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-panels/Toolbar\",\r\n  \"skylark-widgets-base/Widget\",\r\n  \"./ToolButton\",\r\n  \"./addons\"\r\n],function(langx,$,_Toolbar, Widget,ToolButton,addons){ \r\n\r\n  var Toolbar = _Toolbar.inherit({\r\n    pluginName : \"lark.wordpad.toolbar\",\r\n\r\n    _construct : function(editor,opts) {\r\n      this.editor =editor;\r\n      var elm = this.$(\"<div class=\\\"domx-toolbar\\\"><ul></ul></div>\")[0];\r\n      _Toolbar.prototype._construct.call(this,elm,opts);\r\n      this._render();\r\n     \r\n    },\r\n\r\n  });\r\n\r\n  Toolbar.prototype._render = function() {\r\n    var k, len, name, ref;\r\n    this.buttons = [];\r\n    //this.wrapper = $(this._tpl.wrapper).prependTo(this.editor.wrapper);\r\n    this.wrapper = $(this._elm).prependTo(this.editor.wrapper);\r\n    ref = this.opts.toolbar;\r\n    for (k = 0, len = ref.length; k < len; k++) {\r\n      name = ref[k];\r\n      if (name === '|') {\r\n        this.addSeparator();\r\n        continue;\r\n      }\r\n\r\n      var action  = this.editor.findAction(name),\r\n          toolItemCtor = addons.toolbar.items[name];\r\n\r\n      if (!toolItemCtor) {\r\n        toolItemCtor = ToolButton;\r\n      }\r\n\r\n      this.buttons.push(new toolItemCtor({\r\n        \"action\" : action,\r\n        \"toolbar\" : this\r\n      }));\r\n    }\r\n    if (this.opts.toolbarHidden) {\r\n      return this.wrapper.hide();\r\n    }\r\n  };\r\n\r\n  Toolbar.prototype.findButton = function(name) {\r\n    var button;\r\n    button = this.list.find('.toolbar-item-' + name).data('button');\r\n    return button != null ? button : null;\r\n  };\r\n\r\n  Toolbar.addButton = function(btn) {\r\n    return this.buttons[btn.prototype.name] = btn;\r\n  };\r\n\r\n  Toolbar.buttons = {};\r\n\r\n  return Toolbar;\r\n\r\n});"]}